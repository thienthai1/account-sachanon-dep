(function(t){function e(e){for(var s,n,o=e[0],l=e[1],c=e[2],m=0,u=[];m<o.length;m++)n=o[m],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&u.push(i[n][0]),i[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(u.length)u.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},i={app:0},r=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1663:function(t,e,a){"use strict";a("3973")},3973:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),i=a("bb71");a("da64");s["a"].use(i["a"],{iconfont:"md"});var r=a("7496"),n=a("8336"),o=a("b0af"),l=a("99d9"),c=a("a5238"),d=a("549c"),m=a("ce7e"),u=a("0e8f"),p=a("4bd4"),h=a("132d"),f=a("a722"),v=a("8860"),k=a("56b0"),y=a("ba95"),x=a("40fe"),I=a("c954"),g=a("5d23"),b=a("f774"),_=a("9910"),D=a("2677"),w=a("71d9"),C=a("2a7f"),S=a("3ccf"),q=(a("b54a"),function(){var t=this,e=t._self._c;return t.isLogin?e(r["a"],{attrs:{dark:""}},[e(b["a"],{attrs:{touchless:"true",permanent:"false","mini-variant":t.mini,app:"","clipped-left":"",dark:"","disable-resize-watcher":"true"},on:{"update:miniVariant":function(e){t.mini=e},"update:mini-variant":function(e){t.mini=e}},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[e(w["a"],{staticClass:"transparent",attrs:{flat:""}},[e(v["a"],{staticClass:"pa-0"},[e(y["a"],{attrs:{avatar:""}},[e(I["a"],[e("img",{attrs:{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/96/Thaksin_DOD_20050915_%28crop%29.jpg/440px-Thaksin_DOD_20050915_%28crop%29.jpg"}})]),e(g["a"],[e(g["b"],[t._v(t._s(t.userLogin))])],1),e(x["a"],[e(n["a"],{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.mini=!t.mini}}},[e(h["a"],[t._v("chevron_left")])],1)],1)],1)],1)],1),e(m["a"]),t._l(t.items,(function(a){return e(v["a"],{key:a.title},[a.drop?[e(k["a"],{attrs:{value:!1},scopedSlots:t._u([{key:"activator",fn:function(){return[e(y["a"],[e(g["b"],[t._v(t._s(a.title))])],1)]},proxy:!0}],null,!0)},t._l(a.subt,(function(a){return e(y["a"],{directives:[{def:S["a"],name:"ripple",rawName:"v-ripple"}],key:a.subtitle,on:{click:function(t){}}},[e(x["a"]),e(g["b"],[t._v(t._s(a.subtitle))])],1)})),1)]:[e(y["a"],{directives:[{def:S["a"],name:"ripple",rawName:"v-ripple"}],on:{click:function(e){return t.link(a.url)}}},[e(g["b"],[t._v(t._s(a.title))])],1)]],2)})),e(m["a"])],2),e(d["a"],[e("router-view")],1)],1):e(r["a"],{attrs:{dark:""}},[e(c["a"],{attrs:{fluid:"","fill-height":""}},[e(f["a"],{attrs:{"align-center":"","justify-center":""}},[e(u["a"],{attrs:{xs12:"",sm8:"",md4:""}},[e(o["a"],{staticClass:"elevation-12"},[e(w["a"],{attrs:{dark:"",color:"grey darken-3"}},[e(C["a"],[t._v("Login")]),e(_["a"])],1),e(l["b"],[e(p["a"],[e(D["a"],{attrs:{"prepend-icon":"person",name:"login",label:"Login",type:"text"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(t.usname,t.passwrd,t.errmsg,t.isLogin)}},model:{value:t.usname,callback:function(e){t.usname=e},expression:"usname"}}),e(D["a"],{attrs:{"prepend-icon":"lock",name:"password",label:"Password",id:"password",type:"password"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(t.usname,t.passwrd,t.errmsg,t.isLogin)}},model:{value:t.passwrd,callback:function(e){t.passwrd=e},expression:"passwrd"}}),e("p",{staticClass:"red--text"},[t._v(t._s(t.errmsg))])],1)],1),e(l["a"],[e(_["a"]),e(n["a"],{attrs:{color:"green darken-3"},on:{click:function(e){return t.login(t.usname,t.passwrd,t.errmsg,t.isLogin)}}},[t._v("Login")])],1)],1)],1)],1)],1)],1)}),L=[],P=a("8aa5"),O={apiKey:"AIzaSyAY2YgQXZBQqkfE1CND1YEzh0-eSfDhXaY",authDomain:"sachanonaccount.firebaseapp.com",databaseURL:"https://sachanonaccount.firebaseio.com",projectId:"sachanonaccount",storageBucket:"sachanonaccount.appspot.com",messagingSenderId:"367177908507",appId:"1:367177908507:web:574c20e728f3c961"};P["initializeApp"](O);var T=P,z={name:"App",data:function(){return{right:null,drawer:!0,mini:!0,userLogin:"",isLogin:!1,errmsg:"",usname:"",passwrd:"",items:[{title:"รายรับรายจ่าย",url:{path:"/home",query:{usr:this.$route.query.usr}},drop:!1},{title:"รายการซื้อ",url:{path:"",query:{usr:this.$route.query.usr}},drop:!1},{title:"รายการขาย",url:{path:"/sell",query:{usr:this.$route.query.usr}},drop:!1},{title:"สต๊อกสินค้า",url:{path:"/stock",query:{usr:this.$route.query.usr}},drop:!1},{title:"สรุปยอด",url:{path:"/report",query:{usr:this.$route.query.usr}},drop:!1},{title:"ออกจากระบบ",url:{path:"/"}}]}},methods:{login:function(t,e){var a=T.database().ref("/members/"+t+"/password/"),s=this.loginfunc;this.$router.push({path:"/home",query:{usr:t}}),a.on("value",(function(a){s(a.val(),e,t)}))},wait:function(){this.errmsg="* wrong username or password"},loginfunc:function(t,e,a){t==e&&null!=e?(this.isLogin=!0,this.userLogin=a,this.$router.push({path:"/home",query:{usr:a}})):this.errmsg="* wrong username or password"},link:function(t){"/"!=t.path?this.$router.push(t):(this.$router.push(t),this.isLogin=!1,this.usname="",this.passwrd="")}},created:function(){null!=this.$route.query.usr&&(this.userLogin=this.$route.query.usr,this.isLogin=!0)}},B=z,j=a("2877"),$=Object(j["a"])(B,q,L,!1,null,null,null),E=$.exports,M=a("8c4f"),N=a("8fea"),H=a("169a"),A=a("67b6"),K=a("43a6"),F=(a("7f7f"),function(){var t=this,e=t._self._c;return e(c["a"],[e("h1",[t._v("รายรับรายจ่าย")]),e(H["a"],{attrs:{"max-width":"1000px"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on;return[e(n["a"],t._g({staticClass:"green darken-3",attrs:{small:""}},s),[t._v("+ สร้างรายการ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(o["a"],[e(w["a"],{attrs:{dark:"",color:"grey darken-3"}},[e(C["a"],[t._v(t._s(t.formTitle))]),e(_["a"])],1),e(l["b"],[e(c["a"],{attrs:{"grid-list-md":""}},[e(f["a"],{attrs:{wrap:""}},[e(u["a"],{attrs:{xs12:"",sm6:"",md4:""}},[e(D["a"],{attrs:{label:"รายการ"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),e(u["a"],{attrs:{xs12:"",sm6:"",md4:""}},[e(D["a"],{attrs:{label:"ราคา"},model:{value:t.editedItem.price,callback:function(e){t.$set(t.editedItem,"price",e)},expression:"editedItem.price"}})],1),e(u["a"],{attrs:{xs12:"",sm6:"",md4:""}},[e(D["a"],{attrs:{label:"หมายเหตุ"},model:{value:t.editedItem.remark,callback:function(e){t.$set(t.editedItem,"remark",e)},expression:"editedItem.remark"}})],1)],1),e(f["a"],[e(u["a"],{attrs:{xs12:"",sm6:"",md4:""}},[e(K["a"],{attrs:{mandatory:!1},model:{value:t.editedItem.type,callback:function(e){t.$set(t.editedItem,"type",e)},expression:"editedItem.type"}},[e(A["a"],{attrs:{label:"เงินสด",value:"cash"}}),e(A["a"],{attrs:{label:"เช็ค",value:"check"}}),e(A["a"],{attrs:{label:"บัตรเครดิต/เดบิต",value:"card"}}),e(A["a"],{attrs:{label:"โอน",value:"transfer"}}),e(A["a"],{attrs:{label:"ยังไม่จ่าย",value:"debt"}})],1)],1)],1),e(f["a"],[e(K["a"],{attrs:{row:""},model:{value:t.editedItem.status,callback:function(e){t.$set(t.editedItem,"status",e)},expression:"editedItem.status"}},[e(A["a"],{attrs:{label:"จ่าย",value:"outcome"}}),e(A["a"],{attrs:{label:"รับ",value:"income"}})],1)],1),e(f["a"],{attrs:{row:"",wrap:""}},[e("input",{attrs:{label:"test",type:"file",onchange:"previewFile()",id:"files",name:"files[]",multiple:""}})])],1)],1),e(l["a"],[e(_["a"]),e(n["a"],{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("ยกเลิก")]),e(n["a"],{attrs:{color:"blue darken-1",flat:""},on:{click:t.pushDB}},[t._v("บันทึก")])],1)],1)],1),e(m["a"],{staticClass:"my-3"}),e(N["a"],{staticClass:"elevation-1",attrs:{pagination:t.pagination,headers:t.headers,items:t.myData,expand:"true"},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(a){return[e("td",[t._v(t._s(a.item.date))]),e("td",{staticClass:"text-xs-left"},[t._v(t._s(a.item.time))]),e("td",{staticClass:"text-xs-left"},[t._v(t._s(a.item.name))]),e("td",{staticClass:"text-xs-left",class:t.dealStatus(a.item.status,a.item.type)},[t._v(t._s(t.formatPrice(a.item.price))+" ฿")]),e("td",{staticClass:"text-xs-left"},[t._v(t._s(a.item.type))]),e("td",{staticClass:"text-xs-left"},[t._v(t._s(a.item.remark))]),e("td",{staticClass:"text-xs-left"},[e(h["a"],{directives:[{def:S["a"],name:"ripple",rawName:"v-ripple"}],staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.openPic(a.item.url)}}},[t._v("\n          image\n        ")]),e(h["a"],{directives:[{def:S["a"],name:"ripple",rawName:"v-ripple"}],staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(a.item.key)}}},[t._v("\n          edit\n        ")]),e(h["a"],{directives:[{def:S["a"],name:"ripple",rawName:"v-ripple"}],attrs:{small:""},on:{click:function(e){return t.deleteItem(a.item.key,a.item.url)}}},[t._v("\n          delete\n        ")])],1)]}}])}),e(H["a"],{attrs:{"max-width":"290"},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[e(o["a"],[e(l["b"],[t._v("\n        สำเร็จ\n      ")]),e(l["a"],[e(n["a"],{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.dialog2=!1}}},[t._v("\n          ตกลง\n        ")])],1)],1)],1),e(H["a"],{attrs:{"max-width":"800px"},model:{value:t.showPicDia,callback:function(e){t.showPicDia=e},expression:"showPicDia"}},[e(f["a"],{attrs:{"justify-center":""}},[e(u["a"],[e(o["a"],{attrs:{"max-width":"800px"}},[e("img",{attrs:{src:t.receiptPic}}),e(l["a"],[e(n["a"],{attrs:{color:"green darken-1"},on:{click:function(e){t.showPicDia=!1}}},[t._v("\n                    ตกลง\n                  ")])],1)],1)],1)],1)],1)],1)}),U=[],Y=(a("6b54"),a("a481"),a("ac6a"),{name:"Home",data:function(){return{testdat:{moo:"wrah"},receiptPic:"",showPicDia:!1,dialog3:!1,dialog2:!1,dialog:!1,myData:[],pagination:{rowsPerPage:10},editedIndex:-1,headers:[{text:"วันที่",align:"left",sortable:!1,value:"date"},{text:"เวลา",value:"time",sortable:!1},{text:"รายการ",value:"name",sortable:!1},{text:"ราคา",value:"price",sortable:!1},{text:"ประเภท",value:"type",sortable:!1},{text:"หมายเหตุ",value:"remark",sortable:!1},{text:"",sortable:!1}],editedItem:{name:"",price:"",remark:"",type:"cash",url:"",status:""}}},mounted:function(){var t=this,e=T.database().ref("Outin"),a=[],s={date:"",name:"",price:"",remark:"",time:"",key:"",type:"",url:"",status:""},i=[];e.on("value",(function(e){a=[],e.forEach((function(e){s={date:e.val().date,name:e.val().name,price:e.val().price,remark:e.val().remark,time:e.val().time,type:t.previewType(e.val().type),key:e.key,url:e.val().url,status:e.val().status},a.push(s),t.myData=a})),i=[];for(var r=a.length-1;r>=0;r--)i.push(a[r]);t.myData=i}))},methods:{close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.editedItem=Object.assign({},{name:"",price:"",remark:"",type:"cash",url:""}),t.editedIndex=-1}),300)},editItem:function(t){var e=this;this.editedIndex=t,this.dialog=!0;var a=T.database().ref("Outin/"+t);a.on("value",(function(t){e.editedItem.name=t.val().name,e.editedItem.price=t.val().price,e.editedItem.remark=t.val().remark,e.editedItem.type=t.val().type,e.editedItem.status=t.val().status}))},pushDB:function(){var t=this;if(-1==this.editedIndex){var e=new Date,a=("0"+e.getDate()).slice(-2)+"/"+("0"+(e.getMonth()+1)).slice(-2)+"/"+(e.getFullYear()+543),s=("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2),i=T.database().ref("Outin"),r=document.getElementById("files").files[0];if(null!=r){var n=T.storage().ref(),o=n.child(r.name),l="my url";o.put(r).then((function(t){console.log("Uploaded a blob or file!")})).then((function(){o.getDownloadURL().then((function(e){l=e,console.log(e),console.log("myUrl "+l),i.push().set({date:a,name:t.editedItem.name,price:t.editedItem.price,remark:t.editedItem.remark,type:t.editedItem.type,time:s,url:l,status:t.editedItem.status}),t.dialog=!1,t.dialog2=!0,t.editedItem=Object.assign({},{name:"",price:"",remark:"",type:"cash",url:""})}))}))}else i.push().set({date:a,name:this.editedItem.name,price:this.editedItem.price,remark:this.editedItem.remark,type:this.editedItem.type,time:s,url:"",status:this.editedItem.status}),this.dialog=!1,this.dialog2=!0,this.editedItem=Object.assign({},{name:"",price:"",remark:"",type:"cash",url:""})}else{r=document.getElementById("files").files[0];if(null!=r){n=T.storage().ref(),o=n.child(r.name),l="my url";o.put(r).then((function(t){console.log("Uploaded a blob or file!")})).then((function(){o.getDownloadURL().then((function(e){l=e,console.log(e),console.log("myUrl "+l);var a=T.database().ref("Outin/"+t.editedIndex);a.update({name:t.editedItem.name,price:t.editedItem.price,remark:t.editedItem.remark,type:t.editedItem.type,url:l,status:t.editedItem.status}),t.dialog=!1,t.dialog2=!0}))}))}else{i=T.database().ref("Outin/"+this.editedIndex);i.update({name:this.editedItem.name,price:this.editedItem.price,remark:this.editedItem.remark,type:this.editedItem.type,url:"",status:this.editedItem.status}),this.dialog=!1,this.dialog2=!0}}},deleteItem:function(t,e){var a=this;confirm("ต้องการลบรายการนี้ใช่หรือไม่")&&T.database().ref("Outin/"+t).remove().then((function(){var t=T.storage().refFromURL(e);t.delete().then((function(){a.dialog2=!0}))}))},openPic:function(t){this.showPicDia=!0,this.receiptPic=t},previewType:function(t){return"cash"==t?"เงินสด":"check"==t?"เช็ค":"card"==t?"เครดิต/เดบิต":"debt"==t?"ยังไม่จ่าย":"โอน"},formatPrice:function(t){var e=t;return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},dealStatus:function(t,e){return"income"==t?"ยังไม่จ่าย"==e?"yellow--text":"green--text":"outcome"==t?"ยังไม่จ่าย"==e?"yellow--text":"red--text":void 0}},computed:{formTitle:function(){return-1===this.editedIndex?"เพิ่มรายการไหม่":"แก้ไขรายการ"}}}),R=Y,Q=Object(j["a"])(R,F,U,!1,null,null,null),V=Q.exports,G=a("71a3"),J=a("fe57"),X=function(){var t=this,e=t._self._c;return e(c["a"],[e("h1",[t._v("สต็อคสินค้า")]),e(J["a"],{staticClass:"mt-3",model:{value:t.currentItem,callback:function(e){t.currentItem=e},expression:"currentItem"}},t._l(t.myTabs,(function(a){return e(G["a"],{key:a},[t._v("\n        "+t._s(a)+"\n      ")])})),1),e(m["a"],{staticClass:"my-1"}),"รายการสินค้า"==t.myTabs[t.currentItem]?[e("stockList")]:t._e(),"ประวัติ"==t.myTabs[t.currentItem]?[e("stockHist")]:t._e()],2)},Z=[],W=a("b56d"),tt=function(){var t=this,e=t._self._c;return e("div",[e(H["a"],{attrs:{"max-width":"1000px"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on;return[e(n["a"],t._g({staticClass:"green darken-3 mb-3",attrs:{small:""}},s),[t._v("+ สร้างรายการ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(o["a"],[e(w["a"],{attrs:{dark:"",color:"grey darken-3"}},[e(C["a"],[t._v(t._s(t.formTitle))]),e(_["a"])],1),e(l["b"],[e(c["a"],{attrs:{"grid-list-md":""}},[e(f["a"],{attrs:{wrap:""}},[e(u["a"],{attrs:{xs12:"",sm4:"",md4:""}},[e(D["a"],{attrs:{label:"รายการ"},model:{value:t.editedItem.products,callback:function(e){t.$set(t.editedItem,"products",e)},expression:"editedItem.products"}})],1),e(u["a"],{attrs:{xs12:"",sm4:"",md4:""}},[e(D["a"],{attrs:{label:"จำนวน"},model:{value:t.editedItem.quantity,callback:function(e){t.$set(t.editedItem,"quantity",e)},expression:"editedItem.quantity"}})],1),e(u["a"],{attrs:{xs12:"",sm4:"",md4:""}},[e(D["a"],{attrs:{label:"ราคา"},model:{value:t.editedItem.price,callback:function(e){t.$set(t.editedItem,"price",e)},expression:"editedItem.price"}})],1)],1),e(f["a"],[e(u["a"],{attrs:{xs12:"",sm6:"",md4:""}},[e(W["a"],{attrs:{items:t.itemType,label:"ชนิดสินค้า",solo:""},model:{value:t.editedItem.type,callback:function(e){t.$set(t.editedItem,"type",e)},expression:"editedItem.type"}})],1)],1)],1)],1),e(l["a"],[e(_["a"]),e(n["a"],{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("ยกเลิก")]),e(n["a"],{attrs:{color:"blue darken-1",flat:""},on:{click:t.pushDB}},[t._v("บันทึก")])],1)],1)],1),e(N["a"],{staticClass:"elevation-1",attrs:{pagination:t.pagination,headers:t.headers,items:t.myData,expand:"true"},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(a){return[e("td",{staticClass:"text-xs-left"},[t._v(t._s(a.item.products))]),e("td",{staticClass:"text-xs-left"},[t._v(t._s(a.item.type))]),e("td",{staticClass:"text-xs-left"},[t._v(t._s(a.item.quantity))]),e("td",{staticClass:"text-xs-left"},[t._v(t._s(a.item.price)+" ฿")]),e("td",{staticClass:"text-xs-left"},[e(h["a"],{directives:[{def:S["a"],name:"ripple",rawName:"v-ripple"}],staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(a.item.key)}}},[t._v("\n              edit\n            ")]),e(h["a"],{directives:[{def:S["a"],name:"ripple",rawName:"v-ripple"}],attrs:{small:""},on:{click:function(e){return t.deleteItem(a.item.key)}}},[t._v("\n              delete\n            ")])],1)]}}])}),e(H["a"],{attrs:{"max-width":"290"},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[e(o["a"],[e(l["b"],[t._v("\n            สำเร็จ\n          ")]),e(l["a"],[e(n["a"],{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.dialog2=!1}}},[t._v("\n              ตกลง\n            ")])],1)],1)],1)],1)},et=[],at={name:"Home",data:function(){return{currentItem:null,tab:null,myTabs:["รายการสินค้า","ประวัติ"],itemType:["ผ้าเช็ดมือ","ผ้าเช็ดหน้า","ผ้าอเนกประสงค์","ผ้าเช็ดตัว","ผ้าเช็ดเท้า","ผ้าหลา","ผ้าห่ม","ผ้าเช็ดผม","ผ้าเย็น","ผ้าปู","ปลอกหมอน","ปลอกหมอนข้าง","ปลอกผ้านวม","ใส้ผ้านวม","เสื้อคลุม","รองเท้า","อื่นๆ"],testdat:{moo:"wrah"},receiptPic:"",showPicDia:!1,dialog3:!1,dialog2:!1,dialog:!1,myData:[],pagination:{rowsPerPage:10},editedIndex:-1,headers:[{text:"รายการ",value:"products",sortable:!0},{text:"ประเภท",value:"type",sortable:!0},{text:"จำนวน",value:"quantity",sortable:!1},{text:"ราคา",value:"price",sortable:!1},{text:"",sortable:!1}],editedItem:{products:"",quantity:"",price:"",type:"",key:""}}},mounted:function(){var t=this,e=T.database().ref("Stocks"),a=[],s={key:"",products:"",price:"",type:"",quantity:""},i=[];e.on("value",(function(e){a=[],e.forEach((function(e){s={key:e.key,products:e.val().products,quantity:e.val().quantity,price:e.val().price,type:e.val().type},a.push(s),t.myData=a})),i=[];for(var r=a.length-1;r>=0;r--)i.push(a[r]);t.myData=i}))},methods:{close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.editedItem=Object.assign({},{products:"",quantity:"",type:"",price:""}),t.editedIndex=-1}),300)},editItem:function(t){var e=this;this.editedIndex=t,this.dialog=!0;var a=T.database().ref("Stocks/"+t);a.on("value",(function(t){e.editedItem.products=t.val().products,e.editedItem.quantity=t.val().quantity,e.editedItem.type=t.val().type,e.editedItem.price=t.val().price}))},pushDB:function(){if(-1==this.editedIndex){var t=T.database().ref("Stocks");t.push().set({products:this.editedItem.products,quantity:this.editedItem.quantity,type:this.editedItem.type,price:this.editedItem.price}),this.dialog=!1,this.dialog2=!0,this.editedItem=Object.assign({},{products:"",quantity:"",price:"",type:""})}else{t=T.database().ref("Stocks/"+this.editedIndex);t.update({products:this.editedItem.products,quantity:this.editedItem.quantity,price:this.editedItem.price,type:this.editedItem.type}),this.dialog=!1,this.dialog2=!0}},deleteItem:function(t){confirm("ต้องการลบรายการนี้ใช่หรือไม่")&&T.database().ref("Stocks/"+t).remove()},openPic:function(t){this.showPicDia=!0,this.receiptPic=t},previewType:function(t){return"cash"==t?"เงินสด":"check"==t?"เช็ค":"card"==t?"เครดิต/เดบิต":"debt"==t?"ยังไม่จ่าย":"โอน"},formatPrice:function(t){var e=t;return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},dealStatus:function(t,e){return"income"==t?"ยังไม่จ่าย"==e?"yellow--text":"green--text":"outcome"==t?"ยังไม่จ่าย"==e?"yellow--text":"red--text":void 0}},computed:{formTitle:function(){return-1===this.editedIndex?"เพิ่มรายการไหม่":"แก้ไขรายการ"}}},st=at,it=Object(j["a"])(st,tt,et,!1,null,null,null),rt=it.exports,nt=function(){var t=this,e=t._self._c;return e("div",[e(N["a"],{staticClass:"elevation-1",attrs:{pagination:t.pagination,headers:t.headers,items:t.myData,expand:"true"},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(a){return[e("td",{staticClass:"text-xs-left"},[t._v(t._s(a.item.date))]),e("td",{staticClass:"text-xs-left"},[t._v(t._s(a.item.name))]),e("td",{staticClass:"text-xs-left"},[t._v(t._s(a.item.type))]),e("td",{staticClass:"text-xs-left",class:t.dealStatus(a.item.type)},[t._v(t._s(a.item.quantity))])]}}])})],1)},ot=[],lt={name:"StockHis",data:function(){return{myData:[],headers:[{text:"วันที่",value:"date",sortable:!1},{text:"สินค้า",value:"name",sortable:!1},{text:"ชนิด",value:"type",sortable:!1},{text:"จำนวน",value:"quantity",sortable:!1},{text:"",sortable:!1}]}},mounted:function(){var t,e=this,a=T.database().ref("StockHist"),s=[],i={key:"",date:"",name:"",type:"",quantity:""};a.on("value",(function(a){t=[],a.forEach((function(a){i={key:a.key,date:a.val().date,name:a.val().name,type:a.val().type,quantity:a.val().quantity},t.push(i),e.myData=t}))})),s=[];for(var r=t.length-1;r>=0;r--)s.push(t[r]);this.myData=s},methods:{dealStatus:function(t){return"out"==t?"red--text":"in"==t?"green--text":void 0}}},ct=lt,dt=Object(j["a"])(ct,nt,ot,!1,null,null,null),mt=dt.exports,ut={name:"Home",components:{stockList:rt,stockHist:mt},data:function(){return{currentItem:null,tab:null,myTabs:["รายการสินค้า","ประวัติ"],itemType:["ผ้าเช็ดมือ","ผ้าเช็ดหน้า","ผ้าอเนกประสงค์","ผ้าเช็ดตัว","ผ้าเช็ดเท้า","ผ้าหลา","ผ้าห่ม","ผ้าเช็ดผม","ผ้าเย็น","ผ้าปู","ปลอกหมอน","ปลอกหมอนข้าง","ปลอกผ้านวม","ใส้ผ้านวม","เสื้อคลุม","รองเท้า","อื่นๆ"],testdat:{moo:"wrah"},receiptPic:"",showPicDia:!1,dialog3:!1,dialog2:!1,dialog:!1,myData:[],pagination:{rowsPerPage:10},editedIndex:-1,headers:[{text:"รายการ",value:"products",sortable:!0},{text:"ประเภท",value:"type",sortable:!1},{text:"จำนวน",value:"quantity",sortable:!1},{text:"ราคา",value:"price",sortable:!1},{text:"",sortable:!1}],editedItem:{products:"",quantity:"",price:"",type:"",key:""}}},mounted:function(){var t=this,e=T.database().ref("Stocks"),a=[],s={key:"",products:"",price:"",type:"",quantity:""},i=[];e.on("value",(function(e){a=[],e.forEach((function(e){s={key:e.key,products:e.val().products,quantity:e.val().quantity,price:e.val().price,type:e.val().type},a.push(s),t.myData=a})),i=[];for(var r=a.length-1;r>=0;r--)i.push(a[r]);t.myData=i}))},methods:{close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.editedItem=Object.assign({},{products:"",quantity:"",type:"",price:""}),t.editedIndex=-1}),300)},editItem:function(t){var e=this;this.editedIndex=t,this.dialog=!0;var a=T.database().ref("Stocks/"+t);a.on("value",(function(t){e.editedItem.products=t.val().products,e.editedItem.quantity=t.val().quantity,e.editedItem.type=t.val().type,e.editedItem.price=t.val().price}))},pushDB:function(){if(-1==this.editedIndex){var t=T.database().ref("Stocks");t.push().set({products:this.editedItem.products,quantity:this.editedItem.quantity,type:this.editedItem.type,price:this.editedItem.price}),this.dialog=!1,this.dialog2=!0,this.editedItem=Object.assign({},{products:"",quantity:"",price:"",type:""})}else{t=T.database().ref("Stocks/"+this.editedIndex);t.update({products:this.editedItem.products,quantity:this.editedItem.quantity,price:this.editedItem.price,type:this.editedItem.type}),this.dialog=!1,this.dialog2=!0}},deleteItem:function(t){confirm("ต้องการลบรายการนี้ใช่หรือไม่")&&T.database().ref("Stocks/"+t).remove()},openPic:function(t){this.showPicDia=!0,this.receiptPic=t},previewType:function(t){return"cash"==t?"เงินสด":"check"==t?"เช็ค":"card"==t?"เครดิต/เดบิต":"debt"==t?"ยังไม่จ่าย":"โอน"},formatPrice:function(t){var e=t;return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},dealStatus:function(t,e){return"income"==t?"ยังไม่จ่าย"==e?"yellow--text":"green--text":"outcome"==t?"ยังไม่จ่าย"==e?"yellow--text":"red--text":void 0}},computed:{formTitle:function(){return-1===this.editedIndex?"เพิ่มรายการไหม่":"แก้ไขรายการ"}}},pt=ut,ht=Object(j["a"])(pt,X,Z,!1,null,null,null),ft=ht.exports,vt=function(){var t=this,e=t._self._c;return e(c["a"],[e("h1",[t._v("รายการขาย")]),e(J["a"],{staticClass:"mt-3",model:{value:t.currentItem,callback:function(e){t.currentItem=e},expression:"currentItem"}},t._l(t.myTabs,(function(a){return e(G["a"],{key:a},[t._v("\n        "+t._s(a)+"\n      ")])})),1),e(m["a"],{staticClass:"my-3"}),"รายการขาย"==t.myTabs[t.currentItem]?[e("sellCom")]:t._e(),"รายการเสนอราคา"==t.myTabs[t.currentItem]?[e("quotation")]:"รายชื่อลูกค้า"==t.myTabs[t.currentItem]?[e("customerList")]:t._e()],2)},kt=[],yt=a("12b2"),xt=a("7618"),It=function(){var t=this,e=t._self._c;return e("div",[e(H["a"],{attrs:{"max-width":"1000px"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on;return[e(n["a"],t._g({staticClass:"green darken-3 mb-3",attrs:{small:""}},s),[t._v("+ สร้างรายการ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(o["a"],[e(w["a"],{attrs:{dark:"",color:"grey darken-3"}},[e(C["a"],[t._v(t._s(t.formTitle))]),e(_["a"])],1),e(l["b"],[e(c["a"],{attrs:{"grid-list-md":""}},[e(f["a"],[e(u["a"],{attrs:{xs12:"",sm6:"",md6:""}},[e(W["a"],{attrs:{autocomplete:"","search-input":t.searchInput1,items:t.getListCustomer(),label:"ชื่อผู้ซื้อ"},on:{"update:searchInput":function(e){t.searchInput1=e},"update:search-input":function(e){t.searchInput1=e}},model:{value:t.customerSelect,callback:function(e){t.customerSelect=e},expression:"customerSelect"}})],1),e(u["a"],{attrs:{xs12:"",sm6:"",md6:""}},[e(D["a"],{attrs:{label:"เบอร์โทรผู้ซื้อ",disabled:"true"},model:{value:t.customerDetail.phone,callback:function(e){t.$set(t.customerDetail,"phone",e)},expression:"customerDetail.phone"}})],1)],1),e(f["a"],[e(u["a"],{attrs:{xs12:"",sm12:"",md12:""}},[e(D["a"],{attrs:{label:"ที่อยู่ผู้ซื้อ",disabled:"true"},model:{value:t.customerDetail.address,callback:function(e){t.$set(t.customerDetail,"address",e)},expression:"customerDetail.address"}})],1)],1),e(f["a"],[e(u["a"],{attrs:{xs12:"",sm12:"",md12:""}},[e(D["a"],{attrs:{label:"เลขที่ผู้เสียภาษี",disabled:"true"},model:{value:t.customerDetail.tax,callback:function(e){t.$set(t.customerDetail,"tax",e)},expression:"customerDetail.tax"}})],1)],1),t._l(t.editedItem.length,(function(a){return e(f["a"],[e(u["a"],{attrs:{xs12:"",sm6:"",md6:""}},[e(W["a"],{staticClass:"select2",attrs:{autocomplete:"","search-input":t.searchInput2,items:t.dataItems,label:"รายการสินค้า","item-text":"name","item-value":"name","max-height":"300px"},on:{"update:searchInput":function(e){t.searchInput2=e},"update:search-input":function(e){t.searchInput2=e}},scopedSlots:t._u([{key:"selection",fn:function(s){return[e("span",{staticStyle:{"font-size":"15px"}},[t._v(t._s(t.priceSet(s.item.name,s.item.price,s.item.key,a-1)))])]}},{key:"item",fn:function(a){return["object"!==Object(xt["a"])(a.item)?[e(g["a"],[e(g["b"],{staticStyle:{"font-size":"22px"},domProps:{textContent:t._s(a.item)}})],1)]:[e(g["a"],[e(g["b"],{staticStyle:{"font-size":"22px"},domProps:{textContent:t._s(a.item.name)}})],1)]]}}],null,!0),model:{value:t.editedItem[a-1].name,callback:function(e){t.$set(t.editedItem[a-1],"name",e)},expression:"editedItem[n-1].name"}})],1),e(u["a"],{attrs:{xs12:"",sm3:"",md3:""}},[e(D["a"],{attrs:{label:"จำนวน"},model:{value:t.editedItem[a-1].quantity,callback:function(e){t.$set(t.editedItem[a-1],"quantity",e)},expression:"editedItem[n-1].quantity"}})],1),e(u["a"],{attrs:{xs12:"",sm3:"",md3:""}},[e(D["a"],{attrs:{label:"ราคาต่อหน่วย"},model:{value:t.editedItem[a-1].price,callback:function(e){t.$set(t.editedItem[a-1],"price",e)},expression:"editedItem[n-1].price"}})],1)],1)})),e(f["a"],[e(n["a"],{attrs:{flat:"",color:"green"},on:{click:function(e){return t.addItem()}}},[t._v("\n                        + เพิ่มรายการ\n                      ")]),e(n["a"],{attrs:{flat:"",color:"red"},on:{click:function(e){return t.removeItem()}}},[t._v("\n                        - ลดรายการ\n                      ")])],1),e(f["a"],{attrs:{"justify-end":""}},[e(u["a"],{attrs:{xs12:"",sm2:"",md2:""}},[e(D["a"],{attrs:{label:"VAT %"},model:{value:t.customerDetail.vat,callback:function(e){t.$set(t.customerDetail,"vat",e)},expression:"customerDetail.vat"}})],1)],1),e(f["a"],{attrs:{"justify-end":""}},[e(u["a"],{attrs:{xs12:"",sm2:"",md2:""}},[e(D["a"],{attrs:{label:"ลดราคา %"},model:{value:t.customerDetail.discount,callback:function(e){t.$set(t.customerDetail,"discount",e)},expression:"customerDetail.discount"}})],1)],1),e(f["a"],{attrs:{"justify-end":""}},[e(u["a"],{attrs:{xs12:"",sm2:"",md2:""}},[e(D["a"],{attrs:{label:"ราคารวม",disabled:"true"},model:{value:t.total,callback:function(e){t.total=e},expression:"total"}})],1)],1),e("layout",[e(u["a"],{attrs:{xs12:"",sm12:"",md12:""}},[e(D["a"],{attrs:{label:"หมายเหตุ"},model:{value:t.customerDetail.remark,callback:function(e){t.$set(t.customerDetail,"remark",e)},expression:"customerDetail.remark"}})],1)],1)],2)],1),e(l["a"],[e(_["a"]),e(n["a"],{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("ยกเลิก")]),e(n["a"],{attrs:{color:"blue darken-1",flat:""},on:{click:t.pushDB}},[t._v("บันทึก")])],1)],1)],1),e(H["a"],{attrs:{"max-width":"500px"},model:{value:t.chooseBill,callback:function(e){t.chooseBill=e},expression:"chooseBill"}},[e(o["a"],[e(yt["a"],{staticClass:"title"},[t._v("\n            โปรดเลือกประเภทบิล\n          ")]),e(l["b"],[e(W["a"],{attrs:{items:t.selectBill,label:"ประเภทบิล","item-value":"text"},model:{value:t.myBill,callback:function(e){t.myBill=e},expression:"myBill"}})],1),e(l["a"],[e(n["a"],{attrs:{color:"green",text:"",flat:""},on:{click:t.billCheck}},[t._v("\n              ตกลง\n            ")]),e(n["a"],{attrs:{color:"red",text:"",flat:""},on:{click:function(e){t.chooseBill=!1}}},[t._v("\n              ยกเลิก\n            ")])],1)],1)],1),e(H["a"],{attrs:{"max-width":"500px"},model:{value:t.deliveryBill,callback:function(e){t.deliveryBill=e},expression:"deliveryBill"}},[e(o["a"],[e(yt["a"],{staticClass:"title"},[t._v("\n            โปรดกรอกที่อยู่ในการจัดส่ง\n          ")]),e(l["b"],[e(D["a"],{attrs:{label:"ที่อยู่"},model:{value:t.LocationDelivery,callback:function(e){t.LocationDelivery=e},expression:"LocationDelivery"}})],1),e(l["a"],[e(n["a"],{attrs:{color:"green",text:"",flat:""},on:{click:t.createPdf}},[t._v("\n              ตกลง\n            ")]),e(n["a"],{attrs:{color:"red",text:"",flat:""},on:{click:function(e){t.deliveryBill=!1}}},[t._v("\n              ยกเลิก\n            ")])],1)],1)],1),e(N["a"],{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.dataOrders},scopedSlots:t._u([{key:"items",fn:function(a){return[e("td",[t._v(t._s(a.item.date))]),e("td",{staticClass:"text-xs-left"},[t._v(t._s(a.item.name))]),e("td",{staticClass:"text-xs-left"},[t._v(t._s(t.formatPrice(a.item.total))+" ฿")]),e("td",{staticClass:"text-xs-left"},[e(h["a"],{directives:[{def:S["a"],name:"ripple",rawName:"v-ripple"}],staticClass:"mr-2",attrs:{small:""},on:{click:function(e){t.printer(a.item.key,a.item.myitems,a.item.keyCustomer,a.item.remark,a.item.discount,a.item.vat,a.item.date)}}},[t._v("\n              print\n            ")]),e(h["a"],{directives:[{def:S["a"],name:"ripple",rawName:"v-ripple"}],staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(a.item.key,a.item.myitems,a.item.keyCustomer,a.item.remark,a.item.discount,a.item.vat)}}},[t._v("\n              edit\n            ")]),e(h["a"],{directives:[{def:S["a"],name:"ripple",rawName:"v-ripple"}],attrs:{small:""},on:{click:function(e){return t.deleteItem(a.item.key)}}},[t._v("\n              delete\n            ")])],1)]}}])}),e(H["a"],{attrs:{"max-width":"290"},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[e(o["a"],[e(l["b"],[t._v("\n            สำเร็จ\n          ")]),e(l["a"],[e(n["a"],{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.dialog2=!1}}},[t._v("\n              ตกลง\n            ")])],1)],1)],1)],1)},gt=[],bt=(a("55dd"),a("df7c"),{name:"Sell",data:function(){return{LocationDelivery:"",deliveryBill:!1,myBill:"",printerDetail:{index:"",items:"",key:"",remark:"",discount:"",vat:"",date:""},chooseBill:!1,selectBill:["บิลเงินสด","ใบวางบิล","บิลส่งของ"],total:"",md:1234,dataOrders:[],dialog2:!1,customerSelect:"",searchInput1:"",searchInput2:"",customerDetail:{key:"",name:"",phone:"",address:"",tax:"",remark:"",discount:"",vat:""},customerList:[],totalList:1,switch1:!1,customer:{name:"",call:"",address:"",tax:""},e11:[],dataItems:[],selected:"A",options:["foo","bar","baz"],editedIndex:-1,dialog:!1,currentItem:null,tab:null,myTabs:["รายการขาย","รายการเสนอราคา","รายชื่อลูกค้า"],headers:[{text:"วันที่",value:"date",sortable:!1},{text:"ชื่อลูกค้า",value:"name",sortable:!1},{text:"ราคารวม",value:"total",sortable:!1},{text:"",sortable:!1}],editedItem:[{quantity:"",price:0,name:"",key:""}],stocksItem:["moo"]}},mounted:function(){var t=this,e=T.database().ref("Stocks"),a=[],s={key:"",price:"",products:"",quantity:"",type:""};e.on("value",(function(e){var i,r;for(e.forEach((function(e){s={key:e.key,price:e.val().price,products:e.val().products,quantity:e.val().quantity,type:e.val().type},a.push(s),t.stocksItem=a})),i=0;i<17;i++){for(0==i?t.dataItems.push({header:"ผ้าเช็ดมือ"}):1==i?t.dataItems.push({header:"ผ้าเช็ดหน้า"}):2==i?t.dataItems.push({header:"ผ้าอเนกประสงค์"}):3==i?t.dataItems.push({header:"ผ้าเช็ดตัว"}):4==i?t.dataItems.push({header:"ผ้าเช็ดเท้า"}):5==i?t.dataItems.push({header:"ผ้าหลา"}):6==i?t.dataItems.push({header:"ผ้าห่ม"}):7==i?t.dataItems.push({header:"ผ้าเช็ดผม"}):8==i?t.dataItems.push({header:"ผ้าเย็น"}):9==i?t.dataItems.push({header:"ผ้าปู"}):10==i?t.dataItems.push({header:"ปลอกหมอน"}):11==i?t.dataItems.push({header:"ปลอกหมอนข้าง"}):12==i?t.dataItems.push({header:"ปลอกผ้านวม"}):13==i?t.dataItems.push({header:"ใส้ผ้านวม"}):14==i?t.dataItems.push({header:"เสื้อคลุม"}):15==i?t.dataItems.push({header:"รองเท้า"}):16==i&&t.dataItems.push({header:"อื่นๆ"}),r=0;r<t.stocksItem.length;r++)0==i?"ผ้าเช็ดมือ"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):1==i?"ผ้าเช็ดหน้า"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):2==i?"ผ้าอเนกประสงค์"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):3==i?"ผ้าเช็ดตัว"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):4==i?"ผ้าเช็ดเท้า"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):5==i?"ผ้าหลา"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):6==i?"ผ้าห่ม"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):7==i?"ผ้าเช็ดผม"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):8==i?"ผ้าเย็น"==t.stocksItem[r].type&&(console.log(t.stocksItem[r]),t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key})):9==i?"ผ้าปู"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):10==i?"ปลอกหมอน"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):11==i?"ปลอกหมอนข้าง"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):12==i?"ปลอกผ้านวม"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):13==i?"ใส้ผ้านวม"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):14==i?"เสื้อคลุม"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):15==i?"รองเท้า"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):16==i&&"อื่นๆ"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key});t.dataItems.push({divider:!0})}})),e=T.database().ref("Customer");s={key:"",name:"",phone:"",address:"",tax:""};a=[],e.on("value",(function(e){e.forEach((function(e){s={key:e.key,name:e.val().name,phone:e.val().phone,address:e.val().address,tax:e.val().tax},a.push(s),t.customerList=a}))})),e=T.database().ref("SellOrders");var i={key:"",name:"",phone:"",tax:"",address:"",date:"",myitems:"",remark:"",discount:"",vat:""},r=[];e.on("value",(function(e){a=[],e.forEach((function(e){i={key:e.key,keyCustomer:e.val().keyCustomer,name:e.val().name,phone:e.val().phone,tax:e.val().tax,address:e.val().address,date:e.val().date,myitems:e.val().items,total:t.calTotal(e.val().items,e.val().discount,e.val().vat),remark:e.val().remark,discount:e.val().discount,vat:e.val().vat},a.push(i),t.dataOrders=a})),r=[];for(var s=a.length-1;s>=0;s--)r.push(a[s]);t.dataOrders=r}))},methods:{getBase64Image:function(t){var e=window.document.createElement("canvas");e.width=t.width,e.height=t.height;var a=e.getContext("2d");a.drawImage(t,0,0);var s=e.toDataURL("image/png");return s.replace(/^data:image\/(png|jpg);base64,/,"")},printer:function(t,e,a,s,i,r,n){this.chooseBill=!0,this.printerDetail={index:t,items:e,key:a,remark:s,discount:i,vat:r,date:n}},billCheck:function(){if("บิลส่งของ"!=this.myBill)this.createPdf();else{this.deliveryBill=!0;var t=0;for(t;t<this.customerList.length;t++)this.customerList[t].key==this.printerDetail.key&&(this.LocationDelivery=this.customerList[t].address)}},pushDB:function(){if(-1==this.editedIndex){var t=T.database().ref("SellOrders"),e=new Date,a=("0"+e.getDate()).slice(-2)+"/"+("0"+(e.getMonth()+1)).slice(-2)+"/"+(e.getFullYear()+543);t.push().set({keyCustomer:this.customerDetail.keyCustomer,name:this.customerDetail.name,phone:this.customerDetail.phone,tax:this.customerDetail.tax,address:this.customerDetail.address,date:a,items:this.editedItem,remark:this.customerDetail.remark,discount:this.customerDetail.discount,vat:this.customerDetail.vat}),this.dialog=!1,this.dialog2=!0,this.customerDetail={keyCustomer:"",name:"",phone:"",address:"",tax:"",remark:"",discount:"",vat:""}}else{t=T.database().ref("SellOrders/"+this.editedIndex);t.update({items:this.editedItem,remark:this.customerDetail.remark,discount:this.customerDetail.discount,vat:this.customerDetail.vat}),this.dialog=!1,this.dialog2=!0,this.customerDetail={keyCustomer:"",name:"",phone:"",address:"",tax:"",remark:"",discount:"",vat:""}}},close:function(){var t=this;this.dialog=!1,this.customerSelect="",this.customerDetail={key:"",name:"",phone:"",address:"",tax:"",discount:"",vat:"",remark:""},setTimeout((function(){t.editedItem=[{quantity:"",price:"",name:"",key:""}],t.editedIndex=-1,t.totalList=1,t.total=0}),300)},addItem:function(){this.editedItem.push({quantity:"",price:0,name:"",key:""}),this.totalList+=1},removeItem:function(){this.totalList>1&&(this.editedItem.pop(),this.totalList-=1)},priceSet:function(t,e,a,s){return this.editedItem[s].name=t,this.editedItem[s].key=a,t},getListCustomer:function(){var t=0,e=[];for(t;t<this.customerList.length;t++)e.push(this.customerList[t].name);return e.sort()},editItem:function(t,e,a,s,i,r){this.editedIndex=t,this.dialog=!0;var n=0;for(n;n<this.customerList.length;n++)this.customerList[n].key==a&&(this.customerDetail={keyCustomer:this.customerList[n].keyCustomer,name:this.customerList[n].name,address:this.customerList[n].address,phone:this.customerList[n].phone,tax:this.customerList[n].tax,remark:s,discount:i,vat:r},this.customerSelect=this.customerList[n].name);this.editedItem=e,this.totalList=e.length},calTotal:function(t,e,a){var s,i=0;for(s=0;s<t.length;s++)i+=t[s].quantity*t[s].price;return e=e/100*i,a=a/100*i,Math.round(i+a-e)},deleteItem:function(t){var e=this;confirm("ต้องการลบรายการนี้ใช่หรือไม่")&&T.database().ref("SellOrders/"+t).remove().then((function(){e.dialog2=!0}))},formatPrice:function(t){var e=t;return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},stockFix:function(t){var e,a,s;if(-1==this.editedIndex)for(s=0;s<t.length;s++){T.database().ref("Stocks/"+t[s].key).on("value",(function(t){e=t.val().quantity})),T.database().ref("Stocks/"+t[s].key).update({quantity:e-t[s].quantity});var i=new Date,r=("0"+i.getDate()).slice(-2)+"/"+("0"+(i.getMonth()+1)).slice(-2)+"/"+(i.getFullYear()+543);T.database().ref("StockHist").push().set({date:r,name:t[s].name,type:"out",quantity:t[s].quantity})}else for(T.database().ref("SellOrders/"+this.editedIndex).on("value",(function(t){a=t.val()})),s=0;s<a.items.length;s++)if(T.database().ref("Stocks/"+a.items[s].key).on("value",(function(t){e=t.val().quantity})),t[s].quantity<a.items[s].quantity){T.database().ref("Stocks/"+t[s].key).update({quantity:e+(a.items[s].quantity-t[s].quantity)});i=new Date,r=("0"+i.getDate()).slice(-2)+"/"+("0"+(i.getMonth()+1)).slice(-2)+"/"+(i.getFullYear()+543);T.database().ref("StockHist").push().set({date:r,name:t[s].name,type:"in",quantity:a.items[s].quantity-t[s].quantity})}else if(t[s].quantity>a.items[s].quantity){i=new Date,r=("0"+i.getDate()).slice(-2)+"/"+("0"+(i.getMonth()+1)).slice(-2)+"/"+(i.getFullYear()+543);T.database().ref("Stocks/"+t[s].key).update({quantity:e-(t[s].quantity-a.items[s].quantity)}),T.database().ref("StockHist").push().set({date:r,name:t[s].name,type:"out",quantity:t[s].quantity-a.items[s].quantity})}},createPdf:function(){var t=a("e499"),e=a("4ebb");t.vfs=e.pdfMake.vfs;var s=window.document.createElement("IMG");s.setAttribute("src","./scn.png");var i=this.getBase64Image(s),r={key:"",name:"",phone:"",address:"",tax:"",remark:"",discount:"",vat:""},n=0;for(n;n<this.customerList.length;n++)this.customerList[n].key==this.printerDetail.key&&(r={key:this.customerList[n].key,name:this.customerList[n].name,address:this.customerList[n].address,phone:this.customerList[n].phone,tax:this.customerList[n].tax,remark:this.printerDetail.remark,discount:this.printerDetail.discount,vat:this.printerDetail.vat});var o,l=this.printerDetail.items,c=0,d=[],m=[];for(m.push([{text:"ลำดับ",bold:"true",style:"tableHeader",alignment:"center"},{text:"รายการ",bold:"true",style:"tableHeader"},{text:"จำนวน",bold:"true",style:"tableHeader",alignment:"center"},{text:"หน่วยละ",bold:"true",style:"tableHeader",alignment:"center"},{text:"จำนวนเงิน",bold:"true",style:"tableHeader",alignment:"center"}]),n=0;n<l.length;n++){for(o=0;o<5;o++)0==o?d.push({text:n+1,fontSize:10,alignment:"center"}):1==o?d.push({text:l[n].name,fontSize:10}):2==o?d.push({text:l[n].quantity,fontSize:10,alignment:"center"}):3==o?d.push({text:this.formatPrice(l[n].price)+" บาท",fontSize:10,alignment:"center"}):4==o&&(d.push({text:this.formatPrice(l[n].price*l[n].quantity)+" บาท",fontSize:10,alignment:"center"}),c+=l[n].price*l[n].quantity);m.push(d),d=[]}var u=r.discount/100*c,p=r.vat/100*c,h=Math.round(c+p-u),f="",v="",k=new Date;if("บิลส่งของ"!=this.myBill){"บิลเงินสด"==this.myBill?(f="บิลเงินสด",v="ผู้รับเงิน: รวินท์นิภา หาญวิริยะจิตต์"):(f="ใบวางบิล",v="ผู้วางบิล: รวิทนท์นิภา หาญวิริยะจิตต์");var y={pageMargins:[40,40,40,120],footer:[{margin:[50,40,0,0],columns:[{margin:[0,0,0,0],text:"ผู้รับสินค้า: _____________ \n"},{text:v,margin:[0,0,0,0]}]},{margin:[50,0,50,0],fontSize:10,text:"หากสินค้าเสียหายหรือขาดจำนวนต้องแจ้งเป็นลายลักษณ์อักษรให้บริษัทฯทราบภายใน7วันนับจากวันที่ได้รับสินค้ามิฉะนั้นบริษัทฯจะถือว่าผู้ซื้อได้รับสินค้าถูกต้องเรียบร้อยแล้วตามที่ระบุไว้ในเอกสารนี้"}],content:[{columns:[{image:"data:image/png;base64,"+i,width:100,height:100},[{text:"ษาชานนท์ เทคไทลล์",style:"header",margin:[10,0,0,0]},{text:"99/414 หมู่ที่ 8 ตำบลนาเกลือ อำเถอพระสมุทรเจดีย์ จังหวัดสมุทรปราการ 10290",style:"subheader",margin:[10,3,0,0]},{text:"Tel: 089-788-5439",style:"subheader",margin:[10,3,0,0]}]]},{columns:[{text:"เลขที่ผู้เสียภาษี: "+r.tax,margin:[0,10,0,0],fontSize:11,decoration:"underline"},{text:f,fontSize:13,margin:[60,7,0,0],decoration:"underline",bold:"true"},[{text:"Invoice No: "+this.printerDetail.index,margin:[60,0,0,0],fontSize:10,decoration:"underline"},{text:"วันที่: "+k.getUTCDate()+"/"+(k.getMonth()+1)+"/"+k.getUTCFullYear(),margin:[60,3,0,0],fontSize:10,decoration:"underline"}]]},[{margin:[0,10,0,0],text:"ชื่อ-นามสกุล: "+r.name,fontSize:10,decoration:"underline"},{columns:[{margin:[0,2,0,0],text:"ที่อยู่: "+r.address,decoration:"underline",fontSize:10,width:280}]},{margin:[0,2,0,0],text:"เบอร์โทร: "+r.phone,fontSize:10,decoration:"underline"}],{margin:[0,20,0,12],style:"tableExample",table:{widths:[50,160,50,50,153],body:m},layout:{fillColor:function(t,e,a){return t%2===0?"#eeeeff":null}}},{columns:[{margin:[0,5,0,0],text:"หมายเหตุ: "+r.remark,fontSize:11},[{text:"ส่วนลด: "+r.discount+"%",alignment:"right",fontSize:11,bold:"true",decoration:"underline",margin:[5,0,7,3]},{text:"ภาษี: "+r.vat+"%",alignment:"right",fontSize:11,bold:"true",decoration:"underline",margin:[0,0,7,3]},{text:"รวม: "+this.formatPrice(h)+" บาท",alignment:"right",fontSize:11,bold:"true",decoration:"underline",margin:[0,0,7,0]}]]}],styles:{header:{fontSize:14,bold:!0},subheader:{fontSize:10,bold:!1},quote:{italics:!0},small:{fontSize:8}},defaultStyle:{font:"Kanit"}}}else{f="บิลส่งของ";y={pageMargins:[40,40,40,120],footer:[{margin:[50,40,0,0],columns:[{margin:[0,0,0,0],text:"ผู้รับสินค้า: _____________ \n"},{text:"ผู้วางบิล: รวิทนท์นิภา หาญวิริยะจิตต์",margin:[0,0,0,0]}]},{columns:[{margin:[50,0,50,0],fontSize:10,text:["หากสินค้าเสียหายหรือขาดจำนวนต้องแจ้งเป็นลายลักษณ์อักษรให้บริษัทฯทราบภายใน","7วันนับจากวันที่ได้รับสินค้ามิฉะนั้นบริษัทฯจะถือว่าผู้ซื้อได้รับสินค้าถูกต้อง","เรียบร้อยแล้วตามที่ระบุไว้ในเอกสารนี้"]}]}],content:[{columns:[{image:"data:image/png;base64,"+i,width:100,height:100},[{text:"ษาชานนท์ เทคไทลล์",style:"header",margin:[10,0,0,0]},{text:"99/414 หมู่ที่ 8 ตำบลนาเกลือ อำเถอพระสมุทรเจดีย์ จังหวัดสมุทรปราการ 10290",style:"subheader",margin:[10,3,0,0]},{text:"Tel: 089-788-5439",style:"subheader",margin:[10,3,0,0]}]]},{columns:[{text:"เลขที่ผู้เสียภาษี: "+r.tax,margin:[0,10,0,0],fontSize:11,decoration:"underline"},{text:f,fontSize:13,margin:[60,7,0,0],decoration:"underline",bold:"true"},[{text:"Invoice No: "+this.printerDetail.index,margin:[60,0,0,0],fontSize:10,decoration:"underline"},{text:"วันที่: "+this.printerDetail.date,margin:[60,3,0,0],fontSize:10,decoration:"underline"}]]},[{margin:[0,10,0,0],text:"ชื่อ-นามสกุล: "+r.name,fontSize:10,decoration:"underline"},{columns:[{margin:[0,2,0,0],text:"ที่อยู่: "+r.address,decoration:"underline",fontSize:10,width:280}]},{margin:[0,2,0,0],text:"เบอร์โทร: "+r.phone,fontSize:10,decoration:"underline"},{margin:[0,10,0,0],text:"ที่อยู่ในการจัดส่ง: "+this.LocationDelivery,fontSize:10,decoration:"underline"}],{margin:[0,20,0,12],style:"tableExample",table:{widths:[50,160,50,50,153],body:m},layout:{fillColor:function(t,e,a){return t%2===0?"#eeeeff":null}}},{columns:[{margin:[0,5,0,0],text:"หมายเหตุ: "+r.remark,fontSize:11},[{text:"ส่วนลด: "+r.discount+"%",alignment:"right",fontSize:11,bold:"true",decoration:"underline",margin:[5,0,7,3]},{text:"ภาษี: "+r.vat+"%",alignment:"right",fontSize:11,bold:"true",decoration:"underline",margin:[0,0,7,3]},{text:"รวม: "+this.formatPrice(h)+" บาท",alignment:"right",fontSize:11,bold:"true",decoration:"underline",margin:[0,0,7,20]}]]}],styles:{header:{fontSize:14,bold:!0},subheader:{fontSize:10,bold:!1},quote:{italics:!0},small:{fontSize:8}},defaultStyle:{font:"Kanit"}}}var x={Kanit:{normal:"Kanit-Regular.ttf",bold:"Kanit-Bold.ttf",italics:"Kanit-Light.ttf",bolditalics:"Kanit-ExtraLight.ttf"}};t.createPdf(y,null,x).open(),this.chooseBill=!1}},computed:{formTitle:function(){return-1===this.editedIndex?"เพิ่มรายการไหม่":"แก้ไขรายการ"}},watch:{customerSelect:function(){var t=0;for(t;t<this.customerList.length;t++)this.customerList[t].name==this.customerSelect&&(this.customerDetail.keyCustomer=this.customerList[t].key,this.customerDetail.name=this.customerList[t].name,this.customerDetail.address=this.customerList[t].address,this.customerDetail.phone=this.customerList[t].phone,this.customerDetail.tax=this.customerList[t].tax)},editedItem:{deep:!0,handler:function(){var t;for(console.log(this.editedItem),this.total=0,t=0;t<this.editedItem.length;t++)this.total+=this.editedItem[t].quantity*this.editedItem[t].price}},customerDetail:{deep:!0,handler:function(){var t;for(this.total=0,t=0;t<this.editedItem.length;t++)this.total+=this.editedItem[t].quantity*this.editedItem[t].price;var e=this.customerDetail.discount/100*this.total,a=this.customerDetail.vat/100*this.total;this.total=Math.round(this.total-e+a)}}}}),_t=bt,Dt=(a("ec5a"),Object(j["a"])(_t,It,gt,!1,null,null,null)),wt=Dt.exports,Ct=function(){var t=this,e=t._self._c;return e("div",[e(H["a"],{attrs:{"max-width":"1000px"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on;return[e(n["a"],t._g({staticClass:"green darken-3 mb-3",attrs:{small:""}},s),[t._v("+ สร้างรายการ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(o["a"],[e(w["a"],{attrs:{dark:"",color:"grey darken-3"}},[e(C["a"],[t._v(t._s(t.formTitle))]),e(_["a"])],1),e(l["b"],[e(c["a"],{attrs:{"grid-list-md":""}},[e(f["a"],{attrs:{wrap:""}},[e(u["a"],{attrs:{xs12:"",sm6:"",md6:""}},[e(D["a"],{attrs:{label:"ชื่อ"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),e(u["a"],{attrs:{xs12:"",sm6:"",md6:""}},[e(D["a"],{attrs:{label:"เบอร์โทร"},model:{value:t.editedItem.phone,callback:function(e){t.$set(t.editedItem,"phone",e)},expression:"editedItem.phone"}})],1)],1),e(f["a"],[e(u["a"],{attrs:{xs12:"",sm12:"",md12:""}},[e(D["a"],{attrs:{label:"ที่อยู่"},model:{value:t.editedItem.address,callback:function(e){t.$set(t.editedItem,"address",e)},expression:"editedItem.address"}})],1)],1),e(f["a"],[e(u["a"],{attrs:{xs12:"",sm6:"",md6:""}},[e(D["a"],{attrs:{label:"เลขที่ผู้เสียภาษี"},model:{value:t.editedItem.tax,callback:function(e){t.$set(t.editedItem,"tax",e)},expression:"editedItem.tax"}})],1)],1)],1)],1),e(l["a"],[e(_["a"]),e(n["a"],{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("ยกเลิก")]),e(n["a"],{attrs:{color:"blue darken-1",flat:""},on:{click:t.pushDB}},[t._v("บันทึก")])],1)],1)],1),e(N["a"],{staticClass:"elevation-1",attrs:{pagination:t.pagination,headers:t.headers,items:t.myData,expand:"true"},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(a){return[e("td",{staticClass:"text-xs-left"},[t._v(t._s(a.item.name))]),e("td",{staticClass:"text-xs-left"},[t._v(t._s(a.item.address))]),e("td",{staticClass:"text-xs-left"},[t._v(t._s(a.item.phone))]),e("td",{staticClass:"text-xs-left"},[t._v(t._s(a.item.tax))]),e("td",{staticClass:"text-xs-left"},[e(h["a"],{directives:[{def:S["a"],name:"ripple",rawName:"v-ripple"}],staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(a.item.key)}}},[t._v("\n              edit\n            ")]),e(h["a"],{directives:[{def:S["a"],name:"ripple",rawName:"v-ripple"}],attrs:{small:""},on:{click:function(e){return t.deleteItem(a.item.key)}}},[t._v("\n              delete\n            ")])],1)]}}])}),e(H["a"],{attrs:{"max-width":"290"},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[e(o["a"],[e(l["b"],[t._v("\n            สำเร็จ\n          ")]),e(l["a"],[e(n["a"],{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.dialog2=!1}}},[t._v("\n              ตกลง\n            ")])],1)],1)],1)],1)},St=[],qt={name:"Home",data:function(){return{currentItem:null,tab:null,myTabs:["รายการสินค้า","ประวัติ"],itemType:["ผ้าเช็ดมือ","ผ้าเช็ดหน้า","ผ้าอเนกประสงค์","ผ้าเช็ดตัว","ผ้าเช็ดเท้า","ผ้าหลา","ผ้าห่ม","ผ้าเช็ดผม","ผ้าเย็น"],testdat:{moo:"wrah"},receiptPic:"",showPicDia:!1,dialog3:!1,dialog2:!1,dialog:!1,myData:[],pagination:{rowsPerPage:10},editedIndex:-1,headers:[{text:"ชื่อ",value:"name",sortable:!0},{text:"ที่อยู่",value:"address",sortable:!1},{text:"เบอร์โทร",value:"phone",sortable:!1},{text:"เลขที่ผู้เสียภาษี",value:"tax",sortable:!1},{text:"",sortable:!1}],editedItem:{name:"",phone:"",address:"",tax:"",key:""}}},mounted:function(){var t=this,e=T.database().ref("Customer"),a=[],s={name:"",phone:"",address:"",tax:"",key:""},i=[];e.on("value",(function(e){a=[],e.forEach((function(e){s={key:e.key,name:e.val().name,phone:e.val().phone,address:e.val().address,tax:e.val().tax},a.push(s),t.myData=a})),i=[];for(var r=a.length-1;r>=0;r--)i.push(a[r]);t.myData=i}))},methods:{close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.editedItem=Object.assign({},{key:"",name:"",phone:"",address:"",tax:""}),t.editedIndex=-1}),300)},editItem:function(t){var e=this;this.editedIndex=t,this.dialog=!0;var a=T.database().ref("Customer/"+t);a.on("value",(function(t){e.editedItem.name=t.val().name,e.editedItem.phone=t.val().phone,e.editedItem.address=t.val().address,e.editedItem.tax=t.val().tax}))},pushDB:function(){if(-1==this.editedIndex){var t=T.database().ref("Customer");t.push().set({name:this.editedItem.name,phone:this.editedItem.phone,address:this.editedItem.address,tax:this.editedItem.tax}),this.dialog=!1,this.dialog2=!0,this.editedItem=Object.assign({},{name:"",phone:"",address:"",tax:""})}else{t=T.database().ref("Customer/"+this.editedIndex);t.update({name:this.editedItem.name,phone:this.editedItem.phone,address:this.editedItem.address,tax:this.editedItem.tax}),this.dialog=!1,this.dialog2=!0}},deleteItem:function(t){confirm("ต้องการลบรายการนี้ใช่หรือไม่")&&T.database().ref("Customer/"+t).remove()},openPic:function(t){this.showPicDia=!0,this.receiptPic=t},previewType:function(t){return"cash"==t?"เงินสด":"check"==t?"เช็ค":"card"==t?"เครดิต/เดบิต":"debt"==t?"ยังไม่จ่าย":"โอน"},formatPrice:function(t){var e=t;return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},dealStatus:function(t,e){return"income"==t?"ยังไม่จ่าย"==e?"yellow--text":"green--text":"outcome"==t?"ยังไม่จ่าย"==e?"yellow--text":"red--text":void 0}},computed:{formTitle:function(){return-1===this.editedIndex?"เพิ่มรายการไหม่":"แก้ไขรายการ"}}},Lt=qt,Pt=Object(j["a"])(Lt,Ct,St,!1,null,null,null),Ot=Pt.exports,Tt=function(){var t=this,e=t._self._c;return e("div",[e(H["a"],{attrs:{"max-width":"1000px"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on;return[e(n["a"],t._g({staticClass:"green darken-3 mb-3",attrs:{small:""}},s),[t._v("+ สร้างรายการ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(o["a"],[e(w["a"],{attrs:{dark:"",color:"grey darken-3"}},[e(C["a"],[t._v(t._s(t.formTitle))]),e(_["a"])],1),e(l["b"],[e(c["a"],{attrs:{"grid-list-md":""}},[e(f["a"],[e(u["a"],{attrs:{xs12:"",sm6:"",md6:""}},[e(W["a"],{attrs:{autocomplete:"","search-input":t.searchInput1,items:t.getListCustomer(),label:"ชื่อผู้ซื้อ"},on:{"update:searchInput":function(e){t.searchInput1=e},"update:search-input":function(e){t.searchInput1=e}},model:{value:t.customerSelect,callback:function(e){t.customerSelect=e},expression:"customerSelect"}})],1),e(u["a"],{attrs:{xs12:"",sm6:"",md6:""}},[e(D["a"],{attrs:{label:"เบอร์โทรผู้ซื้อ",disabled:"true"},model:{value:t.customerDetail.phone,callback:function(e){t.$set(t.customerDetail,"phone",e)},expression:"customerDetail.phone"}})],1)],1),e(f["a"],[e(u["a"],{attrs:{xs12:"",sm12:"",md12:""}},[e(D["a"],{attrs:{label:"ที่อยู่ผู้ซื้อ",disabled:"true"},model:{value:t.customerDetail.address,callback:function(e){t.$set(t.customerDetail,"address",e)},expression:"customerDetail.address"}})],1)],1),e(f["a"],[e(u["a"],{attrs:{xs12:"",sm12:"",md12:""}},[e(D["a"],{attrs:{label:"เลขที่ผู้เสียภาษี",disabled:"true"},model:{value:t.customerDetail.tax,callback:function(e){t.$set(t.customerDetail,"tax",e)},expression:"customerDetail.tax"}})],1)],1),t._l(t.totalList,(function(a){return e(f["a"],[e(u["a"],{attrs:{xs12:"",sm6:"",md6:""}},[e(W["a"],{staticClass:"select2",attrs:{autocomplete:"","search-input":t.searchInput2,items:t.dataItems,label:"รายการสินค้า","item-text":"name","item-value":"name","max-height":"300px"},on:{"update:searchInput":function(e){t.searchInput2=e},"update:search-input":function(e){t.searchInput2=e}},scopedSlots:t._u([{key:"selection",fn:function(s){return[e("span",{staticStyle:{"font-size":"15px"}},[t._v(t._s(t.priceSet(s.item.name,s.item.price,a-1)))])]}},{key:"item",fn:function(a){return["object"!==Object(xt["a"])(a.item)?[e(g["a"],{domProps:{textContent:t._s(a.item)}})]:[e(g["a"],[e(g["b"],{staticStyle:{"font-size":"15px"},domProps:{textContent:t._s(a.item.name)}})],1)]]}}],null,!0),model:{value:t.editedItem[a-1].name,callback:function(e){t.$set(t.editedItem[a-1],"name",e)},expression:"editedItem[n-1].name"}})],1),e(u["a"],{attrs:{xs12:"",sm3:"",md3:""}},[e(D["a"],{attrs:{label:"จำนวน"},model:{value:t.editedItem[a-1].quantity,callback:function(e){t.$set(t.editedItem[a-1],"quantity",e)},expression:"editedItem[n-1].quantity"}})],1),e(u["a"],{attrs:{xs12:"",sm3:"",md3:""}},[e(D["a"],{attrs:{label:"ราคาต่อหน่วย"},model:{value:t.editedItem[a-1].price,callback:function(e){t.$set(t.editedItem[a-1],"price",e)},expression:"editedItem[n-1].price"}})],1)],1)})),e(f["a"],[e(n["a"],{attrs:{flat:"",color:"green"},on:{click:function(e){return t.addItem()}}},[t._v("\n                    + เพิ่มรายการ\n                  ")]),e(n["a"],{attrs:{flat:"",color:"red"},on:{click:function(e){return t.removeItem()}}},[t._v("\n                    - ลดรายการ\n                  ")])],1),e(f["a"],{attrs:{"justify-end":""}},[e(u["a"],{attrs:{xs12:"",sm2:"",md2:""}},[e(D["a"],{attrs:{label:"VAT %"},model:{value:t.customerDetail.vat,callback:function(e){t.$set(t.customerDetail,"vat",e)},expression:"customerDetail.vat"}})],1)],1),e(f["a"],{attrs:{"justify-end":""}},[e(u["a"],{attrs:{xs12:"",sm2:"",md2:""}},[e(D["a"],{attrs:{label:"ลดราคา %"},model:{value:t.customerDetail.discount,callback:function(e){t.$set(t.customerDetail,"discount",e)},expression:"customerDetail.discount"}})],1)],1),e(f["a"],{attrs:{"justify-end":""}},[e(u["a"],{attrs:{xs12:"",sm2:"",md2:""}},[e(D["a"],{attrs:{label:"ราคารวม",disabled:"true"},model:{value:t.total,callback:function(e){t.total=e},expression:"total"}})],1)],1),e("layout",[e(u["a"],{attrs:{xs12:"",sm12:"",md12:""}},[e(D["a"],{attrs:{label:"หมายเหตุ"},model:{value:t.customerDetail.remark,callback:function(e){t.$set(t.customerDetail,"remark",e)},expression:"customerDetail.remark"}})],1)],1),e(f["a"],{attrs:{"justify-end":""}},[e(l["a"],[e(n["a"],{style:{display:t.sellAppear},attrs:{small:"",color:"green",flat:""},on:{click:t.addToSelling}},[t._v("+ เพิ่มไปยังรายการขาย")])],1)],1)],2)],1),e(l["a"],[e(_["a"]),e(n["a"],{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("ยกเลิก")]),e(n["a"],{attrs:{color:"blue darken-1",flat:""},on:{click:t.pushDB}},[t._v("บันทึก")])],1)],1)],1),e(N["a"],{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.dataOrders},scopedSlots:t._u([{key:"items",fn:function(a){return[e("td",[t._v(t._s(a.item.date))]),e("td",{staticClass:"text-xs-left"},[t._v(t._s(a.item.name))]),e("td",{staticClass:"text-xs-left"},[t._v(t._s(t.formatPrice(a.item.total))+" ฿")]),e("td",{staticClass:"text-xs-left"},[e(h["a"],{directives:[{def:S["a"],name:"ripple",rawName:"v-ripple"}],staticClass:"mr-2",attrs:{small:""},on:{click:function(e){t.printer(a.item.key,a.item.myitems,a.item.keyCustomer,a.item.remark,a.item.discount,a.item.vat,a.item.date)}}},[t._v("\n          print\n        ")]),e(h["a"],{directives:[{def:S["a"],name:"ripple",rawName:"v-ripple"}],staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(a.item.key,a.item.myitems,a.item.keyCustomer,a.item.remark,a.item.discount,a.item.vat)}}},[t._v("\n          edit\n        ")]),e(h["a"],{directives:[{def:S["a"],name:"ripple",rawName:"v-ripple"}],attrs:{small:""},on:{click:function(e){return t.deleteItem(a.item.key)}}},[t._v("\n          delete\n        ")])],1)]}}])}),e(H["a"],{attrs:{"max-width":"290"},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[e(o["a"],[e(l["b"],[t._v("\n        สำเร็จ\n      ")]),e(l["a"],[e(n["a"],{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.dialog2=!1}}},[t._v("\n          ตกลง\n        ")])],1)],1)],1)],1)},zt=[],Bt={name:"Sell",data:function(){return{sellAppear:"none",searchInput1:"",searchInput2:"",total:"",md:1234,dataOrders:[],dialog2:!1,customerSelect:"",customerDetail:{key:"",name:"",phone:"",address:"",tax:"",remark:"",discount:"",vat:""},customerList:[],totalList:1,switch1:!1,customer:{name:"",call:"",address:"",tax:""},e11:[],dataItems:[],selected:"A",options:{First:[{text:"One",value:"A"},{text:"Two",value:"B"}],Second:[{text:"Three",value:"C"}]},editedIndex:-1,dialog:!1,currentItem:null,tab:null,myTabs:["รายการขาย","รายการเสนอราคา","รายชื่อลูกค้า"],headers:[{text:"วันที่",value:"date",sortable:!1},{text:"ชื่อลูกค้า",value:"name",sortable:!1},{text:"ราคารวม",value:"total",sortable:!1},{text:"",sortable:!1}],editedItem:[{quantity:"",price:"",name:""}],stocksItem:["moo"]}},mounted:function(){var t=this,e=T.database().ref("Stocks"),a=[],s={key:"",price:"",products:"",quantity:"",type:""};e.on("value",(function(e){var i,r;for(e.forEach((function(e){s={key:e.key,price:e.val().price,products:e.val().products,quantity:e.val().quantity,type:e.val().type},a.push(s),t.stocksItem=a})),i=0;i<17;i++){for(0==i?t.dataItems.push({header:"ผ้าเช็ดมือ"}):1==i?t.dataItems.push({header:"ผ้าเช็ดหน้า"}):2==i?t.dataItems.push({header:"ผ้าอเนกประสงค์"}):3==i?t.dataItems.push({header:"ผ้าเช็ดตัว"}):4==i?t.dataItems.push({header:"ผ้าเช็ดเท้า"}):5==i?t.dataItems.push({header:"ผ้าหลา"}):6==i?t.dataItems.push({header:"ผ้าห่ม"}):7==i?t.dataItems.push({header:"ผ้าเช็ดผม"}):8==i?t.dataItems.push({header:"ผ้าเย็น"}):9==i?t.dataItems.push({header:"ผ้าปู"}):10==i?t.dataItems.push({header:"ปลอกหมอน"}):11==i?t.dataItems.push({header:"ปลอกหมอนข้าง"}):12==i?t.dataItems.push({header:"ปลอกผ้านวม"}):13==i?t.dataItems.push({header:"ใส้ผ้านวม"}):14==i?t.dataItems.push({header:"เสื้อคลุม"}):15==i?t.dataItems.push({header:"รองเท้า"}):16==i&&t.dataItems.push({header:"อื่นๆ"}),r=0;r<t.stocksItem.length;r++)0==i?"ผ้าเช็ดมือ"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):1==i?"ผ้าเช็ดหน้า"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):2==i?"ผ้าอเนกประสงค์"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):3==i?"ผ้าเช็ดตัว"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):4==i?"ผ้าเช็ดเท้า"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):5==i?"ผ้าหลา"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):6==i?"ผ้าห่ม"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):7==i?"ผ้าเช็ดผม"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):8==i?"ผ้าเย็น"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):9==i?"ผ้าปู"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):10==i?"ปลอกหมอน"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):11==i?"ปลอกหมอนข้าง"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):12==i?"ปลอกผ้านวม"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):13==i?"ใส้ผ้านวม"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):14==i?"เสื้อคลุม"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):15==i?"รองเท้า"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key}):16==i&&"อื่นๆ"==t.stocksItem[r].type&&t.dataItems.push({name:t.stocksItem[r].products,price:t.stocksItem[r].price,key:t.stocksItem[r].key});t.dataItems.push({divider:!0})}})),e=T.database().ref("Customer");s={key:"",name:"",phone:"",address:"",tax:""};a=[],e.on("value",(function(e){e.forEach((function(e){s={key:e.key,name:e.val().name,phone:e.val().phone,address:e.val().address,tax:e.val().tax},a.push(s),t.customerList=a}))})),e=T.database().ref("Quotation");var i={key:"",name:"",phone:"",tax:"",address:"",date:"",myitems:"",remark:"",discount:"",vat:""},r=[];e.on("value",(function(e){a=[],e.forEach((function(e){i={key:e.key,keyCustomer:e.val().key,name:e.val().name,phone:e.val().phone,tax:e.val().tax,address:e.val().address,date:e.val().date,myitems:e.val().items,total:t.calTotal(e.val().items,e.val().discount,e.val().vat),remark:e.val().remark,discount:e.val().discount,vat:e.val().vat},a.push(i),t.dataOrders=a})),r=[];for(var s=a.length-1;s>=0;s--)r.push(a[s]);t.dataOrders=r}))},methods:{getBase64Image:function(t){var e=window.document.createElement("canvas");e.width=t.width,e.height=t.height;var a=e.getContext("2d");a.drawImage(t,0,0);var s=e.toDataURL("image/png");return s.replace(/^data:image\/(png|jpg);base64,/,"")},printer:function(t,e,s,i,r,n,o){var l=a("e499"),c=a("4ebb");l.vfs=c.pdfMake.vfs;var d=window.document.createElement("IMG");d.setAttribute("src","./scn.png");var m=this.getBase64Image(d),u={key:"",name:"",phone:"",address:"",tax:"",remark:"",discount:"",vat:""},p=0;for(p;p<this.customerList.length;p++)this.customerList[p].key==s&&(u={key:this.customerList[p].key,name:this.customerList[p].name,address:this.customerList[p].address,phone:this.customerList[p].phone,tax:this.customerList[p].tax,remark:i,discount:r,vat:n});var h,f=e,v=(r=3,n=50,0),k=[],y=[];for(y.push([{text:"ลำดับ",bold:"true",style:"tableHeader",alignment:"center"},{text:"รายการ",bold:"true",style:"tableHeader"},{text:"จำนวน",bold:"true",style:"tableHeader",alignment:"center"},{text:"หน่วยละ",bold:"true",style:"tableHeader",alignment:"center"},{text:"จำนวนเงิน",bold:"true",style:"tableHeader",alignment:"center"}]),p=0;p<f.length;p++){for(h=0;h<5;h++)0==h?k.push({text:p+1,fontSize:10,alignment:"center"}):1==h?k.push({text:f[p].name,fontSize:10}):2==h?k.push({text:f[p].quantity,fontSize:10,alignment:"center"}):3==h?k.push({text:this.formatPrice(f[p].price)+" บาท",fontSize:10,alignment:"center"}):4==h&&(k.push({text:this.formatPrice(f[p].price*f[p].quantity)+" บาท",fontSize:10,alignment:"center"}),v+=f[p].price*f[p].quantity);y.push(k),k=[]}var x=u.discount/100*v,I=u.vat/100*v,g=Math.round(v+I-x),b={footer:[{margin:[0,50,0,90],columns:[{margin:[50,-60,0,0],text:"ผู้ซื้อ: _____________  \nตกลงตามรายการข้างต้น"},{text:["ขอแสดงความนับถือ \n",{text:"   ษาชานนท์เทคไทลล์",margin:[30,20,20,20]}],margin:[120,-60,0,0]}]},{margin:[50,-1,0,20],fontSize:"10",width:200,text:"- หากสินค้าเสียหายหรือขาดจำนวนต้องแจ้งเป็นลายลักษณ์อักษรให้บริษัทฯทราบภายใน 7 วันนับจากวันที่ได้รับสินค้ามิฉะนั้นบริษัทฯจะถือว่าผู้ซื้อได้รับสินค้าถูกต้องเรียบร้อยแล้วตามที่ระบุไว้ในเอกสารนี้"}],content:[{columns:[{image:"data:image/png;base64,"+m,width:100,height:100},[{text:"ษาชานนท์ เทคไทลล์",style:"header",margin:[10,0,0,0]},{text:"99/414 หมู่ที่ 8 ตำบลนาเกลือ อำเถอพระสมุทรเจดีย์ จังหวัดสมุทรปราการ 10290",style:"subheader",margin:[10,3,0,0]},{text:"Tel: 089-788-5439",style:"subheader",margin:[10,3,0,0]}]]},{columns:[{text:"เลขที่ผู้เสียภาษี: "+u.tax,margin:[0,10,0,0],fontSize:11,decoration:"underline"},{text:"ใบเสนอราคา",fontSize:13,margin:[60,7,0,0],decoration:"underline",bold:"true"},[{text:"Ref No: "+t,margin:[60,0,0,0],fontSize:10,decoration:"underline"},{text:"วันที่: "+o,margin:[60,3,0,0],fontSize:10,decoration:"underline"}]]},[{margin:[0,10,0,0],text:"ชื่อ-นามสกุล: "+u.name,fontSize:10,decoration:"underline"},{columns:[{margin:[0,2,0,0],text:"ที่อยู่: "+u.address,decoration:"underline",fontSize:10,width:280}]},{margin:[0,2,0,0],text:"เบอร์โทร: "+u.phone,fontSize:10,decoration:"underline"}],{margin:[0,20,0,12],style:"tableExample",table:{widths:[50,160,50,50,153],body:y},layout:{fillColor:function(t,e,a){return t%2===0?"#eeeeff":null}}},{columns:[{margin:[0,5,0,0],text:"หมายเหตุ: "+u.remark,fontSize:11},[{text:"ส่วนลด: "+u.discount+"%",alignment:"right",fontSize:11,bold:"true",decoration:"underline",margin:[5,0,7,3]},{text:"ภาษี: "+u.vat+"%",alignment:"right",fontSize:11,bold:"true",decoration:"underline",margin:[0,0,7,3]},{text:"รวม: "+g+" บาท",alignment:"right",fontSize:11,bold:"true",decoration:"underline",margin:[0,0,7,0]}]]}],styles:{header:{fontSize:14,bold:!0},subheader:{fontSize:10,bold:!1},quote:{italics:!0},small:{fontSize:8}},defaultStyle:{font:"Kanit"}},_={Kanit:{normal:"Kanit-Regular.ttf",bold:"Kanit-Bold.ttf",italics:"Kanit-Light.ttf",bolditalics:"Kanit-ExtraLight.ttf"}};l.createPdf(b,null,_).open()},pushDB:function(){if(-1==this.editedIndex){var t=T.database().ref("Quotation"),e=new Date,a=("0"+e.getDate()).slice(-2)+"/"+("0"+(e.getMonth()+1)).slice(-2)+"/"+(e.getFullYear()+543);t.push().set({key:this.customerDetail.key,name:this.customerDetail.name,phone:this.customerDetail.phone,tax:this.customerDetail.tax,address:this.customerDetail.address,date:a,items:this.editedItem,remark:this.customerDetail.remark,discount:this.customerDetail.discount,vat:this.customerDetail.vat}),this.dialog=!1,this.dialog2=!0,this.customerDetail={key:"",name:"",phone:"",address:"",tax:"",remark:"",discount:"",vat:""},this.editedItem[0].quantity="",this.editedItem[0].type="",this.editedItem[0].price=""}else{t=T.database().ref("Quotation/"+this.editedIndex);t.update({items:this.editedItem,remark:this.customerDetail.remark,discount:this.customerDetail.discount,vat:this.customerDetail.vat}),this.dialog=!1,this.dialog2=!0,this.customerDetail={key:"",name:"",phone:"",address:"",tax:"",discount:"",vat:""},this.editedItem[0].quantity="",this.editedItem[0].type="",this.editedItem[0].price=""}},close:function(){var t=this;this.dialog=!1,this.customerSelect="",this.customerDetail={key:"",name:"",phone:"",address:"",tax:"",discount:"",vat:"",remark:""},setTimeout((function(){t.editedItem=[{quantity:"",price:"",name:""}],t.editedIndex=-1,t.totalList=1,t.total=0}),300)},addItem:function(){this.editedItem.push({quantity:"",price:"",name:""}),this.totalList+=1},removeItem:function(){this.totalList>1&&(this.editedItem.pop(),this.totalList-=1)},priceSet:function(t,e,a){return this.editedItem[a].name=t,t},getListCustomer:function(){var t=0,e=[];for(t;t<this.customerList.length;t++)e.push(this.customerList[t].name);return e.sort()},editItem:function(t,e,a,s,i,r){this.sellAppear="block",this.editedIndex=t,this.dialog=!0;var n=0;for(n;n<this.customerList.length;n++)this.customerList[n].key==a&&(this.customerDetail={key:this.customerList[n].key,name:this.customerList[n].name,address:this.customerList[n].address,phone:this.customerList[n].phone,tax:this.customerList[n].tax,remark:s,discount:i,vat:r},this.customerSelect=this.customerList[n].name);this.editedItem=e,this.totalList=e.length},calTotal:function(t,e,a){var s,i=0;for(s=0;s<t.length;s++)i+=t[s].quantity*t[s].price;return e=e/100*i,a=a/100*i,Math.round(i+a-e)},deleteItem:function(t){var e=this;confirm("ต้องการลบรายการนี้ใช่หรือไม่")&&T.database().ref("Quotation/"+t).remove().then((function(){e.dialog2=!0}))},formatPrice:function(t){var e=t;return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},addToSelling:function(){var t=new Date,e=("0"+t.getDate()).slice(-2)+"/"+("0"+(t.getMonth()+1)).slice(-2),a=T.database().ref("SellOrders");a.push().set({keyCustomer:this.customerDetail.key,name:this.customerDetail.name,phone:this.customerDetail.phone,tax:this.customerDetail.tax,address:this.customerDetail.address,date:e,items:this.editedItem,remark:this.customerDetail.remark,discount:this.customerDetail.discount,vat:this.customerDetail.vat}),this.dialog=!1,this.dialog2=!0,this.customerDetail={keyCustomer:"",name:"",phone:"",address:"",tax:"",remark:"",discount:"",vat:""},this.sellAppear="none"}},computed:{formTitle:function(){return-1===this.editedIndex?"เพิ่มรายการไหม่":"แก้ไขรายการ"}},watch:{customerSelect:function(){var t=0;for(t;t<this.customerList.length;t++)this.customerList[t].name==this.customerSelect&&(this.customerDetail.key=this.customerList[t].key,this.customerDetail.name=this.customerList[t].name,this.customerDetail.address=this.customerList[t].address,this.customerDetail.phone=this.customerList[t].phone,this.customerDetail.tax=this.customerList[t].tax)},editedItem:{deep:!0,handler:function(){var t;for(this.total=0,t=0;t<this.editedItem.length;t++)this.total+=this.editedItem[t].quantity*this.editedItem[t].price}},customerDetail:{deep:!0,handler:function(){var t;for(this.total=0,t=0;t<this.editedItem.length;t++)this.total+=this.editedItem[t].quantity*this.editedItem[t].price;var e=this.customerDetail.discount/100*this.total,a=this.customerDetail.vat/100*this.total;this.total=Math.round(this.total-e+a)}}}},jt=Bt,$t=(a("a5c6"),Object(j["a"])(jt,Tt,zt,!1,null,null,null)),Et=$t.exports,Mt={components:{sellCom:wt,customerList:Ot,quotation:Et},name:"Sell",data:function(){return{currentItem:null,tab:null,myTabs:["รายการขาย","รายการเสนอราคา","รายชื่อลูกค้า"]}}},Nt=Mt,Ht=(a("1663"),Object(j["a"])(Nt,vt,kt,!1,null,null,null)),At=Ht.exports,Kt=a("adda"),Ft=function(){var t=this,e=t._self._c;return e(c["a"],{attrs:{fluid:""}},[e(f["a"],{attrs:{row:"",wrap:""}},[e(u["a"],{attrs:{xs12:"",md4:"",lg4:""}},[e(o["a"],{directives:[{def:S["a"],name:"ripple",rawName:"v-ripple"}],staticClass:"white--text",staticStyle:{cursor:"pointer"},attrs:{to:"/outin",color:"blue-grey darken-2",elevation:"10"}},[e(Kt["a"],{attrs:{src:"https://www.thebalancesmb.com/thmb/SNMC96S3V5eACQUUvjxE4_pxBP0=/1280x853/filters:fill(auto,1)/accounting_161542265-569fcc015f9b58eba4ad3a90.jpg",height:"200px"}}),e(yt["a"],{attrs:{"primary-title":""}},[e("div",[e("div",{staticClass:"headline"},[t._v("สรุปรายรับรายจ่ายประจำวัน")])])])],1)],1)],1)],1)},Ut=[],Yt={name:"Report",data:function(){return{dialog:!1,headers:[{text:"Dessert (100g serving)",align:"left",sortable:!1,value:"name"},{text:"Calories",value:"calories"},{text:"Fat (g)",value:"fat"},{text:"Carbs (g)",value:"carbs"},{text:"Protein (g)",value:"protein"},{text:"Iron (%)",value:"iron"}],desserts:[{name:"Frozen Yogurt",calories:159,fat:6,carbs:24,protein:4,iron:"1%"},{name:"Ice cream sandwich",calories:237,fat:9,carbs:37,protein:4.3,iron:"1%"},{name:"Eclair",calories:262,fat:16,carbs:23,protein:6,iron:"7%"},{name:"Cupcake",calories:305,fat:3.7,carbs:67,protein:4.3,iron:"8%"},{name:"Gingerbread",calories:356,fat:16,carbs:49,protein:3.9,iron:"16%"},{name:"Jelly bean",calories:375,fat:0,carbs:94,protein:0,iron:"0%"},{name:"Lollipop",calories:392,fat:.2,carbs:98,protein:0,iron:"2%"},{name:"Honeycomb",calories:408,fat:3.2,carbs:87,protein:6.5,iron:"45%"},{name:"Donut",calories:452,fat:25,carbs:51,protein:4.9,iron:"22%"},{name:"KitKat",calories:518,fat:26,carbs:65,protein:7,iron:"6%"}]}},methods:{}},Rt=Yt,Qt=Object(j["a"])(Rt,Ft,Ut,!1,null,null,null),Vt=Qt.exports,Gt=function(){var t=this,e=t._self._c;return e(c["a"],[e("h1",[t._v("ยอดซื้อ")]),e(m["a"],{staticClass:"my-3"}),e(N["a"],{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.desserts},scopedSlots:t._u([{key:"items",fn:function(a){return[e("td",[t._v(t._s(a.item.name))]),e("td",{staticClass:"text-xs-right"},[t._v(t._s(a.item.calories))]),e("td",{staticClass:"text-xs-right"},[t._v(t._s(a.item.fat))]),e("td",{staticClass:"text-xs-right"},[t._v(t._s(a.item.carbs))]),e("td",{staticClass:"text-xs-right"},[t._v(t._s(a.item.protein))]),e("td",{staticClass:"text-xs-right"},[t._v(t._s(a.item.iron))])]}}])})],1)},Jt=[],Xt={name:"Bought",data:function(){return{headers:[{text:"Dessert (100g serving)",align:"left",sortable:!1,value:"name"},{text:"Calories",value:"calories"},{text:"Fat (g)",value:"fat"},{text:"Carbs (g)",value:"carbs"},{text:"Protein (g)",value:"protein"},{text:"Iron (%)",value:"iron"}]}},methods:{}},Zt=Xt,Wt=Object(j["a"])(Zt,Gt,Jt,!1,null,null,null),te=Wt.exports,ee=a("2e4b"),ae=a("e449"),se=function(){var t=this,e=t._self._c;return e(c["a"],[e("h1",[t._v("สรุปยอดรายรับรายจ่าย")]),e(m["a"],{staticClass:"my-3"}),e(f["a"],{attrs:{row:"",wrap:""}},[e(u["a"],{attrs:{xs12:"",lg3:""}},[e(ae["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on;return[e(D["a"],t._g({attrs:{"prepend-icon":"event",label:"เริ่มจาก",readonly:""},model:{value:t.date2,callback:function(e){t.date2=e},expression:"date2"}},s))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[e(ee["a"],{on:{input:function(e){t.menu2=!1}},model:{value:t.date2,callback:function(e){t.date2=e},expression:"date2"}})],1)],1),e(u["a"],{attrs:{xs12:"",lg3:""}},[e(ae["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on;return[e(D["a"],t._g({attrs:{label:"จนถึงวันที่","prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},s))]}}]),model:{value:t.menu3,callback:function(e){t.menu3=e},expression:"menu3"}},[e(ee["a"],{on:{input:function(e){t.menu3=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)],1),e(N["a"],{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.myData,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(a){return[e("td",[t._v(t._s(a.item.date))]),e("td",{staticClass:"text-xs-left"},[t._v(t._s(a.item.time))]),e("td",{staticClass:"text-xs-left"},[t._v(t._s(a.item.name))]),e("td",{staticClass:"text-xs-left",class:t.dealStatus(a.item.status,a.item.type)},[t._v(t._s(t.formatPrice(a.item.price))+" ฿")]),e("td",{staticClass:"text-xs-left"},[t._v(t._s(a.item.type))]),e("td",{staticClass:"text-xs-left"},[t._v(t._s(a.item.remark))]),e("td",{staticClass:"text-xs-left"},[e(h["a"],{directives:[{def:S["a"],name:"ripple",rawName:"v-ripple"}],staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.openPic(a.item.url)}}},[t._v("\n          image\n        ")])],1)]}}])}),e(m["a"],{staticClass:"my-3"}),e("h3",{staticClass:"mr-3 text-xs-right mt-2",staticStyle:{"text-decoration":"underline"}},[t._v("จ่ายทั้งหมด")]),e("h3",{staticClass:"green--text mr-3 text-xs-right mt-2"},[t._v("จ่ายเงินสด: "+t._s(t.totalOutCash)+" บาท")]),e("h3",{staticClass:"blue--text mr-3 text-xs-right mt-2"},[t._v("จ่ายเช็ค: "+t._s(t.totalOutCheck)+" บาท")]),e("h3",{staticClass:"yellow--text mr-3 text-xs-right mt-2"},[t._v("จ่ายบัตรเครดิต/เดบิต: "+t._s(t.totalOutCard)+" บาท")]),e("h3",{staticClass:"pink--text mr-3 text-xs-right mt-2"},[t._v("จ่ายโอน: "+t._s(t.totalOutTransfer)+" บาท")]),e("h3",{staticClass:"white--text mr-3 text-xs-right mt-2"},[t._v("หนี้: "+t._s(t.outDebt)+" บาท")]),e(m["a"],{staticClass:"my-3"}),e("h3",{staticClass:"mr-3 text-xs-right mt-2",staticStyle:{"text-decoration":"underline"}},[t._v("รับทั้งหมด")]),e("h3",{staticClass:"green--text mr-3 text-xs-right mt-2"},[t._v("รับเงินสด: "+t._s(t.totalInCash)+" บาท")]),e("h3",{staticClass:"blue--text mr-3 text-xs-right mt-2"},[t._v("รับช็ค: "+t._s(t.totalInCheck)+" บาท")]),e("h3",{staticClass:"yellow--text mr-3 text-xs-right mt-2"},[t._v("รับบัตรเครดิต/เดบิต: "+t._s(t.totalInCard)+" บาท")]),e("h3",{staticClass:"pink--text mr-3 text-xs-right mt-2"},[t._v("รับโอน: "+t._s(t.totalInTransfer)+" บาท")]),e("h3",{staticClass:"white--text mr-3 text-xs-right mt-2"},[t._v("หนี้: "+t._s(t.inDebt)+" บาท")]),e(m["a"],{staticClass:"my-3"}),e("h3",{staticClass:"white--text mr-3 text-xs-right mt-2"},[t._v("เหลือเงินสด: "+t._s(t.formatPrice(t.remainCash))+" บาท")]),e(H["a"],{attrs:{"max-width":"800px"},model:{value:t.showPicDia,callback:function(e){t.showPicDia=e},expression:"showPicDia"}},[e(f["a"],{attrs:{"justify-center":""}},[e(u["a"],[e(o["a"],{attrs:{"max-width":"800px"}},[e("img",{attrs:{src:t.receiptPic}}),e(l["a"],[e(n["a"],{attrs:{color:"green darken-1"},on:{click:function(e){t.showPicDia=!1}}},[t._v("\n                        ตกลง\n                    ")])],1)],1)],1)],1)],1)],1)},ie=[],re={data:function(){return{inDebt:0,outDebt:0,remainCash:0,receiptPic:"",showPicDia:!1,date:(new Date).toISOString().substr(0,10),menu2:!1,menu3:!1,date2:(new Date).toISOString().substr(0,10),myDate:"this is my date",totalInCash:0,totalInCheck:0,totalInCard:0,totalInTransfer:0,totalOutCash:0,totalOutCheck:0,totalOutCard:0,totalOutTransfer:0,myData:[],headers:[{text:"วันที่",align:"left",sortable:!1,value:"date"},{text:"เวลา",value:"time",sortable:!1},{text:"รายการ",value:"name",sortable:!1},{text:"ราคา",value:"price",sortable:!1},{text:"ประเภท",value:"type",sortable:!1},{text:"หมายเหตุ",value:"remark",sortable:!1},{text:"",sortable:!1}]}},mounted:function(){var t=this,e=T.database().ref("Outin"),a=this.formatDate(),s=[];this.totalInCash=0;var i={date:"",name:"",price:"",remark:"",time:"",key:"",status:""},r=[];e.on("value",(function(e){s=[],e.forEach((function(e){i={date:e.val().date,name:e.val().name,price:e.val().price,remark:e.val().remark,time:e.val().time,type:t.previewType(e.val().type),key:e.key,url:e.val().url,status:e.val().status},e.val().date==a&&(s.push(i),t.calTotal(e.val().type,parseInt(e.val().price),e.val().status),t.myData=s)})),r=[];for(var n=s.length-1;n>=0;n--)r.push(s[n]);t.myData=r}))},methods:{formatDate:function(){var t=parseInt(this.date.substr(0,4)),e=t+543;return this.date.substr(8,2)+"/"+this.date.substr(5,2)+"/"+String(e)},formatDate2:function(){var t=parseInt(this.date.substr(0,4)),e=t+543;return this.date2.substr(8,2)+"/"+this.date2.substr(5,2)+"/"+String(e)},dateCheck:function(t){var e=parseInt(t.substr(0,2)),a=parseInt(t.substr(3,2)),s=parseInt(t.substr(6));if(parseInt(this.formatDate2().substr(6))<parseInt(this.formatDate().substr(6))){if(a>=parseInt(this.formatDate2().substr(3,2))&&s<parseInt(this.formatDate().substr(6)))return!0;if(a<=parseInt(this.formatDate().substr(3,2))&&s==parseInt(this.formatDate().substr(6)))return!0}if(parseInt(this.formatDate2().substr(3,2))<parseInt(this.formatDate().substr(3,2))){if(e>=parseInt(this.formatDate2().substr(0,2))&&a<parseInt(this.formatDate().substr(3,2)))return!0;if(e<=parseInt(this.formatDate().substr(0,2))&&a==parseInt(this.formatDate().substr(3,2)))return!0}return parseInt(this.formatDate2().substr(3,2))==parseInt(this.formatDate().substr(3,2))&&a==parseInt(this.formatDate().substr(3,2))&&e>=parseInt(this.formatDate2().substr(0,2))&&e<=parseInt(this.formatDate().substr(0,2))},openPic:function(t){this.showPicDia=!0,this.receiptPic=t},previewType:function(t){return"cash"==t?"เงินสด":"check"==t?"เช็ค":"card"==t?"เครดิต/เดบิต":"debt"==t?"ยังไม่จ่าย":"โอน"},calTotal:function(t,e,a){"outcome"==a?"cash"==t?this.totalOutCash+=e:"check"==t?this.totalOutCheck+=e:"card"==t?this.totalOutCard+=e:"transfer"==t?this.totalOutTransfer+=e:"debt"==t&&(this.outDebt+=e):"income"==a&&("cash"==t?this.totalInCash+=e:"check"==t?this.totalInCheck+=e:"card"==t?this.totalInCard+=e:"transfer"==t?this.totalInTransfer+=e:"debt"==t&&(this.inDebt+=e)),this.remainCash=this.totalInCash-this.totalOutCash},formatPrice:function(t){var e=t;return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},resetNumber:function(){this.totalInCash=0,this.totalInCheck=0,this.totalInCard=0,this.totalInTransfer=0,this.totalOutCash=0,this.totalOutCheck=0,this.totalOutCard=0,this.totalOutTransfer=0,this.inDebt=0,this.outDebt=0},dealStatus:function(t,e){return"income"==t?"ยังไม่จ่าย"==e?"yellow--text":"green--text":"outcome"==t?"ยังไม่จ่าย"==e?"yellow--text":"red--text":void 0}},watch:{date2:function(){var t=this,e=T.database().ref("Outin"),a=(this.formatDate(),[]);this.resetNumber();var s={date:"",name:"",price:"",remark:"",time:"",type:"",key:"",status:""},i=[];e.on("value",(function(e){a=[],e.forEach((function(e){s={date:e.val().date,name:e.val().name,price:e.val().price,remark:e.val().remark,time:e.val().time,type:t.previewType(e.val().type),key:e.key,status:e.val().status,url:e.val().url},t.dateCheck(e.val().date)&&(a.push(s),t.calTotal(e.val().type,parseInt(e.val().price),e.val().status),t.myData=a)})),i=[];for(var r=a.length-1;r>=0;r--)i.push(a[r]);t.myData=i}))},date:function(){var t=this,e=T.database().ref("Outin"),a=(this.formatDate(),[]);this.resetNumber();var s={date:"",name:"",price:"",remark:"",time:"",key:"",type:"",status:""},i=[];e.on("value",(function(e){a=[],e.forEach((function(e){s={date:e.val().date,name:e.val().name,price:e.val().price,remark:e.val().remark,time:e.val().time,type:t.previewType(e.val().type),key:e.key,status:e.val().status,url:e.val().url},t.dateCheck(e.val().date)&&(a.push(s),t.calTotal(e.val().type,parseInt(e.val().price),e.val().status),t.myData=a)})),i=[];for(var r=a.length-1;r>=0;r--)i.push(a[r]);t.myData=i}))}}},ne=re,oe=Object(j["a"])(ne,se,ie,!1,null,null,null),le=oe.exports,ce="";e["default"]=ce;s["a"].config.productionTip=!1,s["a"].use(M["a"]);var de=[{path:"/",component:E},{path:"/home",component:V,params:!0},{path:"/stock",component:ft,params:!0},{path:"/sell",component:At,params:!0},{path:"/report",component:Vt,params:!0},{path:"/bought",component:te,params:!0},{path:"/outin",component:le,params:!0}],me=new M["a"]({routes:de});new s["a"]({render:function(t){return t(E)},router:me}).$mount("#app")},"974f":function(t,e,a){},9953:function(t,e,a){},a5c6:function(t,e,a){"use strict";a("974f")},ec5a:function(t,e,a){"use strict";a("9953")}});
//# sourceMappingURL=app.da6fd561.js.map